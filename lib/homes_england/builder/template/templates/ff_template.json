{
  "$schema": "http://json-schema.org/draft-07/schema",
  "title": "FF Project",
  "type": "object",
  "properties": {
    "summary": {
      "type": "object",
      "title": "Project Summary",
      "properties": {
        "BIDReference": {
          "type": "string",
          "readonly": true,
          "title": "BID Reference"
        },
        "projectName": {
          "type": "string",
          "readonly": true,
          "title": "Project Name"
        },
        "leadAuthority": {
          "type": "string",
          "laReadOnly": true,
          "title": "Lead Authority",
          "enum": [
            "N/A",
            "Adur",
            "Allerdale",
            "Amber Valley",
            "Arun",
            "Ashfield",
            "Ashford",
            "Aylesbury Vale",
            "Babergh",
            "Barking and Dagenham",
            "Barnet",
            "Barnsley",
            "Barrow-in-Furness",
            "Basildon",
            "Basingstoke and Deane",
            "Bassetlaw",
            "Bath and North East Somerset",
            "Bedford",
            "Bexley",
            "Birmingham",
            "Blaby",
            "Blackburn with Darwen",
            "Blackpool",
            "Bolsover",
            "Bolton",
            "Boston",
            "Bournemouth",
            "Bracknell Forest",
            "Bradford",
            "Braintree",
            "Breckland",
            "Brent",
            "Brentwood",
            "Brighton and Hove",
            "Bristol",
            "Broadland",
            "Bromley",
            "Bromsgrove",
            "Broxbourne",
            "Broxtowe",
            "Buckinghamshire",
            "Burnley",
            "Bury",
            "Calderdale",
            "Cambridge",
            "Cambridgeshire",
            "Cambridgeshire and Peterborough",
            "Camden",
            "Cannock Chase",
            "Canterbury",
            "Carlisle",
            "Castle Point",
            "Central Bedfordshire",
            "Charnwood",
            "Chelmsford",
            "Cheltenham",
            "Cherwell",
            "Cheshire East",
            "Cheshire West and Chester",
            "Chesterfield",
            "Chichester",
            "Chiltern",
            "Chorley",
            "Christchurch",
            "City of London",
            "Colchester",
            "Copeland",
            "Corby",
            "Cornwall",
            "Cotswold",
            "County Durham",
            "Coventry",
            "Craven",
            "Crawley",
            "Croydon",
            "Cumbria",
            "Dacorum",
            "Darlington",
            "Dartford",
            "Daventry",
            "Derby",
            "Derbyshire",
            "Derbyshire Dales",
            "Devon",
            "Doncaster",
            "Dorset",
            "Dover",
            "Dudley",
            "Ealing",
            "East Cambridgeshire",
            "East Devon",
            "East Dorset",
            "East Hampshire",
            "East Hertfordshire",
            "East Lindsey",
            "East Northamptonshire",
            "East Riding of Yorkshire",
            "East Staffordshire",
            "East Sussex",
            "Eastbourne",
            "Eastleigh",
            "Eden",
            "Elmbridge",
            "Enfield",
            "Epping Forest",
            "Epsom and Ewell",
            "Erewash",
            "Essex",
            "Exeter",
            "Fareham",
            "Fenland",
            "Forest Heath",
            "Forest of Dean",
            "Fylde",
            "Gateshead",
            "Gedling",
            "Gloucester",
            "Gloucestershire",
            "Gosport",
            "Gravesham",
            "Great Yarmouth",
            "Greater London Authority",
            "Greater Manchester Combined Authority",
            "Greenwich",
            "Guildford",
            "Hackney",
            "Halton",
            "Hambleton",
            "Hammersmith and Fulham",
            "Hampshire",
            "Harborough",
            "Haringey",
            "Harlow",
            "Harrogate",
            "Harrow",
            "Hart",
            "Hartlepool",
            "Hastings",
            "Havant",
            "Havering",
            "Herefordshire",
            "Hertfordshire",
            "Hertsmere",
            "High Peak",
            "Hillingdon",
            "Hinckley and Bosworth",
            "Horsham",
            "Hounslow",
            "Huntingdonshire",
            "Hyndburn",
            "Ipswich",
            "Isle of Wight",
            "Isles of Scilly",
            "Islington",
            "Kensington and Chelsea",
            "Kent",
            "Kettering",
            "King's Lynn and West Norfolk",
            "Kingston upon Hull",
            "Kingston upon Thames",
            "Kirklees",
            "Knowsley",
            "Lambeth",
            "Lancashire",
            "Lancaster",
            "Leeds",
            "Leicester",
            "Leicestershire",
            "Lewes",
            "Lewisham",
            "Lichfield",
            "Lincoln",
            "Lincolnshire",
            "Liverpool",
            "Liverpool City Region",
            "Luton",
            "Maidstone",
            "Maldon",
            "Malvern Hills",
            "Manchester",
            "Mansfield",
            "Medway",
            "Melton",
            "Mendip",
            "Merton",
            "Mid Devon",
            "Mid Suffolk",
            "Mid Sussex",
            "Middlesbrough",
            "Milton Keynes",
            "Mole Valley",
            "New Forest",
            "Newark and Sherwood",
            "Newcastle upon Tyne",
            "Newcastle-under-Lyme",
            "Newham",
            "Norfolk",
            "North Devon",
            "North Dorset",
            "North East Combined Authority",
            "North East Derbyshire",
            "North East Lincolnshire",
            "North Hertfordshire",
            "North Kesteven",
            "North Lincolnshire",
            "North Norfolk",
            "North Somerset",
            "North Tyneside",
            "North Warwickshire",
            "North West Leicestershire",
            "North Yorkshire",
            "Northampton",
            "Northamptonshire",
            "Northumberland",
            "Norwich",
            "Nottingham",
            "Nottinghamshire",
            "Nuneaton and Bedworth",
            "Oadby and Wigston",
            "Oldham",
            "Oxford",
            "Oxfordshire",
            "Pendle",
            "Peterborough",
            "Plymouth",
            "Poole",
            "Portsmouth",
            "Preston",
            "Purbeck",
            "Reading",
            "Redbridge",
            "Redcar and Cleveland",
            "Redditch",
            "Reigate and Banstead",
            "Ribble Valley",
            "Richmond upon Thames",
            "Richmondshire",
            "Rochdale",
            "Rochford",
            "Rossendale",
            "Rother",
            "Rotherham",
            "Rugby",
            "Runnymede",
            "Rushcliffe",
            "Rushmoor",
            "Rutland",
            "Ryedale",
            "Salford",
            "Sandwell",
            "Scarborough",
            "Sedgemoor",
            "Sefton",
            "Selby",
            "Sevenoaks",
            "Sheffield",
            "Sheffield City Region",
            "Shepway",
            "Shropshire",
            "Slough",
            "Solihull",
            "Somerset",
            "South Bucks",
            "South Cambridgeshire",
            "South Derbyshire",
            "South Gloucestershire",
            "South Hams",
            "South Holland",
            "South Kesteven",
            "South Lakeland",
            "South Norfolk",
            "South Northamptonshire",
            "South Oxfordshire",
            "South Ribble",
            "South Somerset",
            "South Staffordshire",
            "South Tyneside",
            "Southampton",
            "Southend-on-Sea",
            "Southwark",
            "Spelthorne",
            "St Albans",
            "St Edmundsbury",
            "St. Helens",
            "Stafford",
            "Staffordshire",
            "Staffordshire Moorlands",
            "Stevenage",
            "Stockport",
            "Stockton-on-Tees",
            "Stoke-on-Trent",
            "Stratford-on-Avon",
            "Stroud",
            "Suffolk",
            "Suffolk Coastal",
            "Sunderland",
            "Surrey",
            "Surrey Heath",
            "Sutton",
            "Swale",
            "Swindon",
            "Tameside",
            "Tamworth",
            "Tandridge",
            "Taunton Deane",
            "Tees Valley Combined Authority",
            "Teignbridge",
            "Telford and Wrekin",
            "Tendring",
            "Test Valley",
            "Tewkesbury",
            "Thanet",
            "Three Rivers",
            "Thurrock",
            "Tonbridge and Malling",
            "Torbay",
            "Torridge",
            "Tower Hamlets",
            "Trafford",
            "Tunbridge Wells",
            "Uttlesford",
            "Vale of White Horse",
            "Wakefield",
            "Walsall",
            "Waltham Forest",
            "Wandsworth",
            "Warrington",
            "Warwick",
            "Warwickshire",
            "Watford",
            "Waveney",
            "Waverley",
            "Wealden",
            "Wellingborough",
            "Welwyn Hatfield",
            "West Berkshire",
            "West Devon",
            "West Dorset",
            "West Lancashire",
            "West Lindsey",
            "West Midlands Combined Authority",
            "West of England",
            "West Oxfordshire",
            "West Somerset",
            "West Sussex",
            "West Yorkshire Combined Authority",
            "Westminster",
            "Weymouth and Portland",
            "Wigan",
            "Wiltshire",
            "Winchester",
            "Windsor and Maidenhead",
            "Wirral",
            "Woking",
            "Wokingham",
            "Wolverhampton",
            "Worcester",
            "Worcestershire",
            "Worthing",
            "Wychavon",
            "Wycombe",
            "Wyre",
            "Wyre Forest",
            "York"
          ]
        },
        "jointBidAreas": {
          "type": "array",
          "title": "Joint Bid Areas",
          "addable": true,
          "items": {
            "type": "string",
            "title": "",
            "enum": [
              "N/A",
              "Adur",
              "Allerdale",
              "Amber Valley",
              "Arun",
              "Ashfield",
              "Ashford",
              "Aylesbury Vale",
              "Babergh",
              "Barking and Dagenham",
              "Barnet",
              "Barnsley",
              "Barrow-in-Furness",
              "Basildon",
              "Basingstoke and Deane",
              "Bassetlaw",
              "Bath and North East Somerset",
              "Bedford",
              "Bexley",
              "Birmingham",
              "Blaby",
              "Blackburn with Darwen",
              "Blackpool",
              "Bolsover",
              "Bolton",
              "Boston",
              "Bournemouth",
              "Bracknell Forest",
              "Bradford",
              "Braintree",
              "Breckland",
              "Brent",
              "Brentwood",
              "Brighton and Hove",
              "Bristol",
              "Broadland",
              "Bromley",
              "Bromsgrove",
              "Broxbourne",
              "Broxtowe",
              "Buckinghamshire",
              "Burnley",
              "Bury",
              "Calderdale",
              "Cambridge",
              "Cambridgeshire",
              "Cambridgeshire and Peterborough",
              "Camden",
              "Cannock Chase",
              "Canterbury",
              "Carlisle",
              "Castle Point",
              "Central Bedfordshire",
              "Charnwood",
              "Chelmsford",
              "Cheltenham",
              "Cherwell",
              "Cheshire East",
              "Cheshire West and Chester",
              "Chesterfield",
              "Chichester",
              "Chiltern",
              "Chorley",
              "Christchurch",
              "City of London",
              "Colchester",
              "Copeland",
              "Corby",
              "Cornwall",
              "Cotswold",
              "County Durham",
              "Coventry",
              "Craven",
              "Crawley",
              "Croydon",
              "Cumbria",
              "Dacorum",
              "Darlington",
              "Dartford",
              "Daventry",
              "Derby",
              "Derbyshire",
              "Derbyshire Dales",
              "Devon",
              "Doncaster",
              "Dorset",
              "Dover",
              "Dudley",
              "Ealing",
              "East Cambridgeshire",
              "East Devon",
              "East Dorset",
              "East Hampshire",
              "East Hertfordshire",
              "East Lindsey",
              "East Northamptonshire",
              "East Riding of Yorkshire",
              "East Staffordshire",
              "East Sussex",
              "Eastbourne",
              "Eastleigh",
              "Eden",
              "Elmbridge",
              "Enfield",
              "Epping Forest",
              "Epsom and Ewell",
              "Erewash",
              "Essex",
              "Exeter",
              "Fareham",
              "Fenland",
              "Forest Heath",
              "Forest of Dean",
              "Fylde",
              "Gateshead",
              "Gedling",
              "Gloucester",
              "Gloucestershire",
              "Gosport",
              "Gravesham",
              "Great Yarmouth",
              "Greater London Authority",
              "Greater Manchester Combined Authority",
              "Greenwich",
              "Guildford",
              "Hackney",
              "Halton",
              "Hambleton",
              "Hammersmith and Fulham",
              "Hampshire",
              "Harborough",
              "Haringey",
              "Harlow",
              "Harrogate",
              "Harrow",
              "Hart",
              "Hartlepool",
              "Hastings",
              "Havant",
              "Havering",
              "Herefordshire",
              "Hertfordshire",
              "Hertsmere",
              "High Peak",
              "Hillingdon",
              "Hinckley and Bosworth",
              "Horsham",
              "Hounslow",
              "Huntingdonshire",
              "Hyndburn",
              "Ipswich",
              "Isle of Wight",
              "Isles of Scilly",
              "Islington",
              "Kensington and Chelsea",
              "Kent",
              "Kettering",
              "King's Lynn and West Norfolk",
              "Kingston upon Hull",
              "Kingston upon Thames",
              "Kirklees",
              "Knowsley",
              "Lambeth",
              "Lancashire",
              "Lancaster",
              "Leeds",
              "Leicester",
              "Leicestershire",
              "Lewes",
              "Lewisham",
              "Lichfield",
              "Lincoln",
              "Lincolnshire",
              "Liverpool",
              "Liverpool City Region",
              "Luton",
              "Maidstone",
              "Maldon",
              "Malvern Hills",
              "Manchester",
              "Mansfield",
              "Medway",
              "Melton",
              "Mendip",
              "Merton",
              "Mid Devon",
              "Mid Suffolk",
              "Mid Sussex",
              "Middlesbrough",
              "Milton Keynes",
              "Mole Valley",
              "New Forest",
              "Newark and Sherwood",
              "Newcastle upon Tyne",
              "Newcastle-under-Lyme",
              "Newham",
              "Norfolk",
              "North Devon",
              "North Dorset",
              "North East Combined Authority",
              "North East Derbyshire",
              "North East Lincolnshire",
              "North Hertfordshire",
              "North Kesteven",
              "North Lincolnshire",
              "North Norfolk",
              "North Somerset",
              "North Tyneside",
              "North Warwickshire",
              "North West Leicestershire",
              "North Yorkshire",
              "Northampton",
              "Northamptonshire",
              "Northumberland",
              "Norwich",
              "Nottingham",
              "Nottinghamshire",
              "Nuneaton and Bedworth",
              "Oadby and Wigston",
              "Oldham",
              "Oxford",
              "Oxfordshire",
              "Pendle",
              "Peterborough",
              "Plymouth",
              "Poole",
              "Portsmouth",
              "Preston",
              "Purbeck",
              "Reading",
              "Redbridge",
              "Redcar and Cleveland",
              "Redditch",
              "Reigate and Banstead",
              "Ribble Valley",
              "Richmond upon Thames",
              "Richmondshire",
              "Rochdale",
              "Rochford",
              "Rossendale",
              "Rother",
              "Rotherham",
              "Rugby",
              "Runnymede",
              "Rushcliffe",
              "Rushmoor",
              "Rutland",
              "Ryedale",
              "Salford",
              "Sandwell",
              "Scarborough",
              "Sedgemoor",
              "Sefton",
              "Selby",
              "Sevenoaks",
              "Sheffield",
              "Sheffield City Region",
              "Shepway",
              "Shropshire",
              "Slough",
              "Solihull",
              "Somerset",
              "South Bucks",
              "South Cambridgeshire",
              "South Derbyshire",
              "South Gloucestershire",
              "South Hams",
              "South Holland",
              "South Kesteven",
              "South Lakeland",
              "South Norfolk",
              "South Northamptonshire",
              "South Oxfordshire",
              "South Ribble",
              "South Somerset",
              "South Staffordshire",
              "South Tyneside",
              "Southampton",
              "Southend-on-Sea",
              "Southwark",
              "Spelthorne",
              "St Albans",
              "St Edmundsbury",
              "St. Helens",
              "Stafford",
              "Staffordshire",
              "Staffordshire Moorlands",
              "Stevenage",
              "Stockport",
              "Stockton-on-Tees",
              "Stoke-on-Trent",
              "Stratford-on-Avon",
              "Stroud",
              "Suffolk",
              "Suffolk Coastal",
              "Sunderland",
              "Surrey",
              "Surrey Heath",
              "Sutton",
              "Swale",
              "Swindon",
              "Tameside",
              "Tamworth",
              "Tandridge",
              "Taunton Deane",
              "Tees Valley Combined Authority",
              "Teignbridge",
              "Telford and Wrekin",
              "Tendring",
              "Test Valley",
              "Tewkesbury",
              "Thanet",
              "Three Rivers",
              "Thurrock",
              "Tonbridge and Malling",
              "Torbay",
              "Torridge",
              "Tower Hamlets",
              "Trafford",
              "Tunbridge Wells",
              "Uttlesford",
              "Vale of White Horse",
              "Wakefield",
              "Walsall",
              "Waltham Forest",
              "Wandsworth",
              "Warrington",
              "Warwick",
              "Warwickshire",
              "Watford",
              "Waveney",
              "Waverley",
              "Wealden",
              "Wellingborough",
              "Welwyn Hatfield",
              "West Berkshire",
              "West Devon",
              "West Dorset",
              "West Lancashire",
              "West Lindsey",
              "West Midlands Combined Authority",
              "West of England",
              "West Oxfordshire",
              "West Somerset",
              "West Sussex",
              "West Yorkshire Combined Authority",
              "Westminster",
              "Weymouth and Portland",
              "Wigan",
              "Wiltshire",
              "Winchester",
              "Windsor and Maidenhead",
              "Wirral",
              "Woking",
              "Wokingham",
              "Wolverhampton",
              "Worcester",
              "Worcestershire",
              "Worthing",
              "Wychavon",
              "Wycombe",
              "Wyre",
              "Wyre Forest",
              "York"
            ]
          }
        },
        "projectDescription": {
          "type": "string",
          "laReadOnly": true,
          "title": "Project Description",
          "extendedText": true
        },
        "greenOrBrownField": {
          "type": "string",
          "title": "Greenfield/Brownfield/Mixed",
          "enum": ["Greenfield", "Brownfield", "Mixed"],
          "radio": true
        },
        "noOfHousingSites": {
          "type": "string",
          "laReadOnly": true,
          "title": "Number of housing sites"
        },
        "siteDetails": {
          "type": "array",
          "addable": true,
          "title": "Name of Sites",
          "items": {
            "required": ["siteName", "siteCoordinates"],
            "type": "object",
            "title": "Site",
            "properties": {
              "siteName": {
                "title": "Site",
                "type": "string"
              },
              "siteCoordinates": {
                "type": "array",
                "title": "Site Co-ordinates",
                "addable": true,
                "items": {
                  "type": "string",
                  "title": ""
                }
              }
            }
          }
        },
        "polygonsForHousingSite": {
          "title": "Polygons for housing sites",
          "type": "array",
          "addable": true,
          "items": {
            "title": "",
            "type": "string",
            "description": "Paste a link here to the housing site polygons.",
            "hidden": true,
            "format": "uri"
          }
        },
        "totalArea": { "type": "string", "title": "Total Area (hectares)" },
        "hifFundingRequest": {
          "type": "string",
          "laReadOnly": true,
          "title": "HIF Funding Request",
          "currency": true
        },
        "infrastructureToDeliver": {
          "type": "string",
          "laReadOnly": true,
          "title": "Infrastructure to be delivered - 'The Project'",
          "extendedText": true
        },
        "widerProjectDeliverables": {
          "type": "string",
          "laReadOnly": true,
          "title": "Wider Project deliverables",
          "extendedText": true
        },
        "sitePlans": {
          "title": "Site Plans",
          "description": "Upload any relevant files here.",
          "uploadFile": "multiple",
          "type": "string"
        }
      },
      "required": [
        "BIDReference",
        "projectName",
        "leadAuthority",
        "projectDescription",
        "greenOrBrownField",
        "noOfHousingSites",
        "siteDetails",
        "hifFundingRequest",
        "jointBidAreas",
        "totalArea",
        "infrastructureToDeliver",
        "widerProjectDeliverables",
        "sitePlans"
      ]
    },
    "infrastructures": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "sectionA": {
            "type": "object",
            "properties": {
              "information": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "planning": {
      "type": "object",
      "title": "Planning",
      "properties": {
        "masterplans": {
          "type": "object",
          "title": "Masterplan(s) fror scheme",
          "properties": {
            "confirmation": {
              "type": "string",
              "title": "Do you have any masterplans to attach",
              "enum": ["Yes", "No"]
            }
          },
          "dependencies": {
            "confirmation": {
              "oneOf": [
                {
                  "properties": {
                    "confirmation": {
                      "enum": ["Yes"]
                    },
                    "planAttachment": {
                      "title": "Please attach masterplans here.",
                      "type": "string",
                      "uploadFile": "multiple"
                    }
                  }
                },
                {
                  "properties": {
                    "confirmation": {
                      "enum": ["No"]
                    }
                  }
                }
              ]
            }
          }
        },
        "numberOfPLanningPermissions": {
          "type": "string",
          "title": "Number of key planning permissions"
        },
        "summaryOfKeyPermissions": {
          "type": "array",
          "title": "Summary of Key Permissions",
          "addable": true,
          "items": {
            "type": "object",
            "title": "Planing",
            "properties": {
              "status": {
                "type": "string",
                "title": "Status of Planning",
                "enum": [
                  "Not allocated",
                  "Allocated",
                  "Permission in Principle",
                  "Outline Planning",
                  "Full/Detailed"
                ]
              },
              "description": {
                "type": "string",
                "title": "Description",
                "extendedText": true
              },
              "infrastructureId": {
                "type": "string",
                "title": "What HIF infrastructure is affected?",
                "linkToInfra": true
              }
            },
            "dependencies": {
              "status": {
                "oneOf": [
                  {
                    "properties": {
                      "status": {
                        "enum": ["Not allocated"]
                      },
                      "localPlanConsultation": {
                        "type": "object",
                        "title": "Local Plan Consultation",
                        "properties": {
                          "completionDate": {
                            "type": "string",
                            "title": "Target Completion Date",
                            "format": "date"
                          },
                          "criticalPath": {
                            "type": "string",
                            "title": "Summary of Critical Path"
                          }
                        }
                      },
                      "localPlanSubmitted": {
                        "type": "object",
                        "title": "Local Plan Submitted",
                        "properties": {
                          "completionDate": {
                            "type": "string",
                            "title": "Target Completion Date",
                            "format": "date"
                          },
                          "criticalPath": {
                            "type": "string",
                            "title": "Summary of Critical Path"
                          }
                        }
                      },
                      "localPlanAdoption": {
                        "type": "object",
                        "title": "Local Plan Adoption",
                        "properties": {
                          "completionDate": {
                            "type": "string",
                            "title": "Target Completion Date",
                            "format": "date"
                          },
                          "criticalPath": {
                            "type": "string",
                            "title": "Summary of Critical Path"
                          }
                        }
                      }
                    }
                  },
                  {
                    "properties": {
                      "status": {
                        "enum": ["Allocated"]
                      },
                      "planningReference": {
                        "type": "string",
                        "title": "Planning Reference"
                      },
                      "outlinePlanning": {
                        "type": "object",
                        "title": "",
                        "properties": {
                          "confirmation": {
                            "type": "string",
                            "title": "Is outline planning required?",
                            "enum": ["Yes", "No"]
                          }
                        },
                        "dependencies": {
                          "confirmation": {
                            "oneOf": [
                              {
                                "properties": {
                                  "confirmation": {
                                    "enum": ["Yes"]
                                  },
                                  "criticalPath": {
                                    "type": "string",
                                    "title": "Critical Path to Achieving",
                                    "extendedText": true
                                  },
                                  "targetOutlinePlanningSubmittedDate": {
                                    "type": "string",
                                    "title": "Target Date for Outline Planning Submitted"
                                  },
                                  "targetOutlinePlanningGrantedDate": {
                                    "type": "string",
                                    "title": "Target Date for Outline Planning Granted"
                                  }
                                }
                              },
                              {
                                "properties": {
                                  "confirmation": {
                                    "enum": ["No"]
                                  }
                                }
                              }
                            ]
                          }
                        }
                      }
                    }
                  },
                  {
                    "properties": {
                      "status": {
                        "enum": ["Permission in Principle"]
                      },
                      "planningReference": {
                        "type": "string",
                        "title": "Planning Reference"
                      },
                      "outlinePlanning": {
                        "type": "object",
                        "title": "",
                        "properties": {
                          "confirmation": {
                            "type": "string",
                            "title": "Is outline planning required?",
                            "enum": ["Yes", "No"]
                          }
                        },
                        "dependencies": {
                          "confirmation": {
                            "oneOf": [
                              {
                                "properties": {
                                  "confirmation": {
                                    "enum": ["Yes"]
                                  },
                                  "criticalPath": {
                                    "type": "string",
                                    "title": "Critical Path to Achieving",
                                    "extendedText": true
                                  },
                                  "targetOutlinePlanningSubmittedDate": {
                                    "type": "string",
                                    "title": "Target Date for Outline Planning Submitted"
                                  },
                                  "targetOutlinePlanningGrantedDate": {
                                    "type": "string",
                                    "title": "Target Date for Outline Planning Granted"
                                  }
                                }
                              },
                              {
                                "properties": {
                                  "confirmation": {
                                    "enum": ["No"]
                                  }
                                }
                              }
                            ]
                          }
                        }
                      }
                    }
                  },
                  {
                    "properties": {
                      "status": {
                        "enum": ["Outline Planning"]
                      },
                      "planningReference": {
                        "type": "object",
                        "title": "Planning References",
                        "properties": {
                          "allocatedInLocalPlan": {
                            "type": "string",
                            "title": "Allocated in Local Plan"
                          },
                          "outlinePlanning": {
                            "type": "string",
                            "title": "Outline Planning (if required)"
                          }
                        }
                      },
                      "fullPlanning": {
                        "type": "object",
                        "title": "",
                        "properties": {
                          "confirmation": {
                            "type": "string",
                            "title": "Is full planning required?",
                            "enum": ["Yes", "No"]
                          }
                        },
                        "dependencies": {
                          "confirmation": {
                            "oneOf": [
                              {
                                "properties": {
                                  "confirmation": {
                                    "enum": ["Yes"]
                                  },
                                  "criticalPath": {
                                    "type": "string",
                                    "title": "Critical Path to Achieving",
                                    "extendedText": true
                                  },
                                  "targetFullPlanningSubmittedDate": {
                                    "type": "string",
                                    "title": "Target Date for Full Planning Submitted"
                                  },
                                  "targetFullPlanningGrantedDate": {
                                    "type": "string",
                                    "title": "Target Date for Full Planning Granted"
                                  }
                                }
                              },
                              {
                                "properties": {
                                  "confirmation": {
                                    "enum": ["No"]
                                  }
                                }
                              }
                            ]
                          }
                        }
                      }
                    }
                  },
                  {
                    "properties": {
                      "status": {
                        "enum": ["Full/Detailed"]
                      }
                    }
                  }
                ]
              }
            }
          }
        }
      }
    },
    "landOwnership": {
      "type": "object",
      "title": "Land Ownership",
      "properties": {
        "laControlsLand": {
          "type": "object",
          "title": "",
          "properties": {
            "confirmation": {
              "type": "string",
              "title": "Is all land for HIF infrastructure in LA control?",
              "radio": "true",
              "enum": ["Yes", "No"]
            }
          },
          "dependencies": {
            "confirmation": {
              "oneOf": [
                {
                  "properties": {
                    "confirmation": {
                      "enum": ["Yes"]
                    }
                  }
                },
                {
                  "properties": {
                    "confirmation": {
                      "enum": ["No"]
                    },
                    "whoOwnsLand": {
                      "type": "string",
                      "title": "Who owns land?"
                    }
                  }
                }
              ]
            }
          }
        },
        "landAquisitionRequired": {
          "type": "object",
          "title": "Land Aquisition",
          "properties": {
            "confirmation": {
              "type": "string",
              "title": "Is land Aquisition required?",
              "radio": true,
              "enum": ["Yes", "No"]
            }
          },
          "dependencies": {
            "confirmation": {
              "oneOf": [
                {
                  "properties": {
                    "confirmation": {
                      "enum": ["No"]
                    }
                  }
                },
                {
                  "properties": {
                    "confirmation": {
                      "enum": ["Yes"]
                    },
                    "numberOfAquisitions": {
                      "type": "string",
                      "title": "Number of key land acquisitions"
                    },
                    "summaryOfAquisitions": {
                      "type": "array",
                      "title": "Key acquisitions",
                      "addable": true,
                      "items": {
                        "type": "object",
                        "title": "Acquisition",
                        "properties": {
                          "summary": {
                            "type": "object",
                            "title": "Summary",
                            "horizontal": true,
                            "properties": {
                              "status": {
                                "type": "string",
                                "title": "Status",
                                "enum": [
                                  "Not started",
                                  "In progress - early",
                                  "In progress - detailed",
                                  "Near completion"
                                ]
                              },
                              "infrastructureId": {
                                "type": "string",
                                "title": "Which HIF infrastructure is affected",
                                "linkToInfra": true
                              }
                            }
                          },
                          "description": {
                            "type": "string",
                            "title": "Description",
                            "extendedText": true
                          },
                          "details": {
                            "type": "object",
                            "title": "",
                            "properties": {
                              "whoIsAcquiring": {
                                "type": "string",
                                "title": "To be acquired by LA or developer",
                                "enum": ["LA", "Developer"],
                                "radio": true
                              }
                            },
                            "dependencies": {
                              "whoIsAcquiring": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "whoIsAcquiring": {
                                        "enum": ["LA"]
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "whoIsAcquiring": {
                                        "enum": ["Developer"]
                                      },
                                      "developerDetails": {
                                        "type": "object",
                                        "title": "",
                                        "properties": {
                                          "developerKnown": {
                                            "type": "string",
                                            "title": "Is developer known?",
                                            "radio": true,
                                            "enum": ["Yes", "No"]
                                          }
                                        },
                                        "dependencies": {
                                          "developerKnown": {
                                            "oneOf": [
                                              {
                                                "properties": {
                                                  "developerKnown": {
                                                    "enum": ["Yes"]
                                                  },
                                                  "nameOfDeveloper": {
                                                    "type": "string",
                                                    "title": "Name of developer"
                                                  }
                                                }
                                              },
                                              {
                                                "properties": {
                                                  "developerKnown": {
                                                    "enum": ["No"]
                                                  }
                                                }
                                              }
                                            ]
                                          }
                                        }
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          },
                          "summaryOfAcquisition": {
                            "type": "string",
                            "title": "Summary of acquisition required",
                            "extendedText": true
                          },
                          "landAssemblyCompletedTargetDate": {
                            "type": "string",
                            "title": "Target date for land assembly  to be completed",
                            "format": "date"
                          },
                          "criticalPath": {
                            "type": "string",
                            "title": "Summary of critical path",
                            "extendedText": true
                          }
                        }
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      }
    },
    "procurement": {
      "type": "object",
      "title": "Procurement",
      "properties": {
        "contractorsProcured": {
          "type": "object",
          "title": "",
          "properties": {
            "procured": {
              "type": "string",
              "title": "Are all infrastructure contractors procured? ",
              "radio": true,
              "enum": ["Yes", "No"]
            }
          },
          "dependencies": {
            "procured": {
              "oneOf": [
                {
                  "properties": {
                    "procured": {
                      "enum": ["Yes"]
                    },
                    "contractors": {
                      "type": "array",
                      "title": "Contractors",
                      "addable": true,
                      "items": {
                        "type": "object",
                        "title": "",
                        "properties": {
                          "contractorName": {
                            "type": "string",
                            "title": "Name"
                          },
                          "infrastructureId": {
                            "type": "string",
                            "title": "What HIF infrastructure is affected?",
                            "linkToInfra": true
                          }
                        }
                      }
                    }
                  }
                },
                {
                  "properties": {
                    "procured": {
                      "enum": ["No"]
                    },
                    "landAcquisitions": {
                      "type": "string",
                      "title": "Number of key land acquisitions"
                    }
                  }
                }
              ]
            }
          }
        },
        "summaryOfProcurement": {
          "type": "object",
          "title": "Summary of key procurements",
          "properties": {
            "procurements": {
              "type": "array",
              "title": "",
              "addable": true,
              "items": {
                "type": "object",
                "title": "Procurement",
                "properties": {
                  "status": {
                    "type": "string",
                    "title": "Status at Baseline",
                    "enum": [
                      "Not Started",
                      "In Progress - Early",
                      "In Progress - Detailed",
                      "Near Completion"
                    ]
                  },
                  "description": {
                    "type": "string",
                    "title": "Description",
                    "extendedText": true
                  },
                  "infrastructureId": {
                    "type": "string",
                    "title": "What HIF infrastructure is affected?",
                    "linkToInfra": true
                  },
                  "completionDate": {
                    "type": "string",
                    "title": "Baseline Completion Date",
                    "format": "date"
                  },
                  "summaryOfCriticalPath": {
                    "type": "string",
                    "title": "Summary of Critical Path",
                    "extendedText": true
                  }
                }
              }
            }
          }
        }
      }
    },
    "demolitionRemediation": {
      "type": "object",
      "title": "Demolition and Remediation",
      "properties": {
        "demolition": {
          "type": "object",
          "title": "Demolition",
          "properties": {
            "demolitionRequired": {
              "type": "string",
              "title": "Demolition Required?",
              "radio": true,
              "enum": ["Yes", "No"]
            }
          },
          "dependencies": {
            "demolitionRequired": {
              "oneOf": [
                {
                  "properties": {
                    "demolitionRequired": {
                      "enum": ["Yes"]
                    },
                    "demolitionSummary": {
                      "type": "string",
                      "title": "Summary of Demolition Required",
                      "extendedText": true
                    },
                    "sitesAffected": {
                      "type": "array",
                      "title": "Sites Affected",
                      "addable": true,
                      "items": {
                        "type": "object",
                        "properties": {
                          "site": {
                            "type": "string",
                            "title": "Site"
                          }
                        }
                      }
                    },
                    "completion": {
                      "type": "object",
                      "title": "Demolition Completion",
                      "properties": {
                        "demolitionCompletion": {
                          "type": "string",
                          "format": "date",
                          "title": "Baseline Completion Date"
                        },
                        "demolitionCriticalPath": {
                          "type": "string",
                          "title": "Summary of Critical Path",
                          "extendedText": "true"
                        }
                      }
                    }
                  }
                },
                {
                  "properties": {
                    "demolitionRequired": {
                      "enum": ["No"]
                    }
                  }
                }
              ]
            }
          }
        },
        "remidiation": {
          "type": "object",
          "title": "Remidiation",
          "properties": {
            "remediationRequired": {
              "type": "string",
              "title": "Remidiation Required?",
              "radio": true,
              "enum": ["Yes", "No"]
            }
          },
          "dependencies": {
            "remediationRequired": {
              "oneOf": [
                {
                  "properties": {
                    "remediationRequired": {
                      "enum": ["Yes"]
                    },
                    "areaToRemidiate": {
                      "type": "string",
                      "title": "Area to be remediated"
                    },
                    "remidiationSummary": {
                      "type": "string",
                      "title": "Summary of remediation required"
                    },
                    "sitesAffected": {
                      "type": "array",
                      "title": "Sites Affected",
                      "addable": true,
                      "items": {
                        "type": "object",
                        "properties": {
                          "site": {
                            "type": "string",
                            "title": "Site"
                          }
                        }
                      }
                    },
                    "completion": {
                      "type": "object",
                      "title": "Remediation Completion",
                      "properties": {
                        "remediationCompletion": {
                          "type": "string",
                          "format": "date",
                          "title": "Baseline Completion Date"
                        },
                        "remediationCriticalPath": {
                          "type": "string",
                          "title": "Summary of Critical Path",
                          "extendedText": "true"
                        }
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      }
    },
    "milestones": {
      "title": "s151 Return - Claim",
      "description": "Screen only editable by S.151 officer or delegated officer.",
      "type": "object",
      "properties": {
        "claimSummary": {
          "title": "Summary of Claim",
          "calculation": "set(formData, 'runningClaimTotal', ''+sum(formData, 'hifSpendToDate', 'AmountOfThisClaim'));",
          "type": "object",
          "properties": {
            "hifTotalFundingRequest": {
              "type": "string",
              "title": "HIF Total Funding Request",
              "sourceKey": ["baseline_data", "summary", "hifFundingAmount"],
              "readonly": true,
              "currency": true
            },
            "hifSpendToDate": {
              "type": "string",
              "title": "HIF Spend to Date",
              "s151WriteOnly": true,
              "readonly": true,
              "currency": true
            },
            "AmountOfThisClaim": {
              "type": "string",
              "title": "Amount of this Claim",
              "currency": true,
              "s151WriteOnly": true
            },
            "runningClaimTotal": {
              "type": "string",
              "hidden": true
            },
            "certifiedClaimForm": {
              "type": "string",
              "title": "Certified claim form",
              "description": "Please attach the form here.",
              "uploadFile": "single"
            }
          }
        },
        "supportingEvidence": {
          "type": "object",
          "title": "Supporting Evidence",
          "properties": {
            "lastQuarterMonthSpend": {
              "type": "object",
              "title": "Last Quarter Month Spend",
              "calculation": "setCreate(formData, ['variance','varianceAgainstForecastAmount'], ''+parseMoney(get(formData, 'actual')) - parseMoney(get(formData, 'forecast'))); set(formData['variance'],'varianceAgainstForecastPercentage', percentageDifference(parseMoney(get(formData, 'forecast')), parseMoney(get(formData, 'actual'))));",
              "properties": {
                "forecast": {
                  "title": "Forecasted Spend Last Quarter Month",
                  "type": "string",
                  "sourceKey": [
                    "return_data",
                    "s151",
                    "supportingEvidence",
                    "breakdownOfNextQuarterSpend",
                    "forecast"
                  ],
                  "currency": true,
                  "readonly": true
                },
                "actual": {
                  "title": "Actual Spend Last Quarter Month",
                  "s151WriteOnly": true,
                  "type": "string",
                  "currency": true
                },
                "variance": {
                  "title": "",
                  "type": "object",
                  "horizontal": true,
                  "properties": {
                    "varianceAgainstForecastAmount": {
                      "title": "Variance Against Forecast",
                      "type": "string",
                      "readonly": true,
                      "currency": true
                    },
                    "varianceAgainstForecastPercentage": {
                      "title": "Variance Against Forecast",
                      "type": "string",
                      "readonly": true,
                      "percentage": true
                    }
                  }
                },
                "varianceReason": {
                  "title": "Reason for Variance",
                  "s151WriteOnly": true,
                  "type": "string",
                  "extendedText": true
                }
              }
            },
            "evidenceOfSpendPastQuarter": {
              "title": "Evidence of Spend for the Past Quarter",
              "description": "Evidence can include invoices/ contracts/ accounting system print off. Please attach here.",
              "uploadFile": "multiple",
              "type": "string",
              "s151WriteOnly": true
            },
            "breakdownOfNextQuarterSpend": {
              "title": "Breakdown of Next Quarter Spend",
              "type": "object",
              "properties": {
                "forecast": {
                  "title": "Forecasted Spend ()",
                  "type": "string",
                  "s151WriteOnly": true,
                  "currency": true
                },
                "descriptionOfSpend": {
                  "title": "Description of Spend",
                  "type": "string",
                  "s151WriteOnly": true,
                  "extendedText": true
                },
                "evidenceOfSpendNextQuarter": {
                  "title": "Evidence to Support Forecast Spend for Next Quarter",
                  "description": "Evidence can include contract/ quotes. Please attach here.",
                  "uploadFile": "multiple",
                  "type": "string",
                  "s151WriteOnly": true
                }
              }
            }
          }
        }
      }
    },
    "risks": {
      "type": "object",
      "title": "Risks",
      "properties": {
        "risks": {
          "type": "array",
          "addable": true,
          "title": "",
          "items": {
            "type": "object",
            "title": "Risk",
            "properties": {
              "risk": {
                "type": "string",
                "title": "Description"
              },
              "baselineImpact": {
                "title": "Baseline Impact",
                "type": "string",
                "enum": ["1", "2", "3", "4", "5"]
              },
              "baselineLikelihoood": {
                "title": "Baseline Likelihood",
                "type": "string",
                "enum": ["1", "2", "3", "4", "5"]
              },
              "baselineMitigations": {
                "title": "Baseline Mitigations in place",
                "type": "string",
                "extendedText": true
              }
            }
          }
        }
      }
    },
    "hifGrantExpenditure": {
      "type": "object",
      "title": "HIF Grant Expenditure",
      "properties": {
        "hifGrant": {
          "type": "object",
          "title": "",
          "properties": {
            "totalGrantApproved": {
              "type": "string",
              "title": "Total HIF Grant Approved",
              "currency": true
            },
            "hifGrantOnTranche": {
              "type": "string",
              "title": "Is HIF Grant on a Tranche Basis?",
              "radio": true,
              "enum": ["Yes", "No"]
            }
          },
          "dependencies": {
            "hifGrantOnTranche": {
              "oneOf": [
                {
                  "properties": {
                    "hifGrantOnTranche": {
                      "enum": ["Yes"]
                    },
                    "noOfTranches": {
                      "type": "string",
                      "title": "Number of Tranches"
                    },
                    "hifDrawdownProfile": {
                      "type": "array",
                      "addable": true,
                      "title": "HIF Drawdown Profile",
                      "items": {
                        "type": "object",
                        "title": "Tranche",
                        "properties": {
                          "profiles": {
                            "type": "array",
                            "addable": true,
                            "quarterly": true,
                            "items": {
                              "type": "object",
                              "title": "",
                              "properties": {
                                "period": {
                                  "type": "string",
                                  "title": "Period"
                                },
                                "instalment1": {
                                  "type": "string",
                                  "title": "1st Instalment",
                                  "currency": true
                                },
                                "instalment2": {
                                  "type": "string",
                                  "title": "2nd Instalment",
                                  "currency": true
                                },
                                "instalment3": {
                                  "type": "string",
                                  "title": "3rd Instalment",
                                  "currency": true
                                },
                                "instalment4": {
                                  "type": "string",
                                  "title": "4th Instalment",
                                  "currency": true
                                },
                                "total": {
                                  "type": "string",
                                  "title": "Total",
                                  "currency": true
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                {
                  "properties": {
                    "hifGrantOnTranche": {
                      "enum": ["No"]
                    }
                  }
                }
              ]
            }
          }
        }
      }
    },
    "infraFundingPackage": {
      "title": "Infrastructure Funding Package",
      "type": "array",
      "items": {
        "title": "Infrastructure",
        "type": "object",
        "properties": {
          "fundingPackage": {
            "type": "object",
            "title": "Funding Package",
            "properties": {
              "totalCost": {
                "title": "Total cost of infrastructure",
                "type": "string",
                "currency": true
              },
              "fullyFundedThroughHIf": {
                "type": "object",
                "title": "",
                "properties": {
                  "confirmation": {
                    "title": "Are the infrastructure costs fully funded through HIF?",
                    "type": "string",
                    "enum": ["Yes", "No"],
                    "radio": true
                  }
                },
                "dependencies": {
                  "confirmation": {
                    "oneOf": [
                      {
                        "properties": {
                          "confirmation": {
                            "enum": ["Yes"]
                          }
                        }
                      },
                      {
                        "properties": {
                          "confirmation": {
                            "enum": ["No"]
                          },
                          "descriptionOfPackage": {
                            "type": "string",
                            "title": "Description of total funding package",
                            "extendedText": true
                          },
                          "fundingStack": {
                            "type": "object",
                            "title": "Funding Stack",
                            "calculation": "formData ? set(formData, 'totalPublic', accumulateMoney(get(formData, 'publicAmounts'), 'amount', 2)) : null; formData ? set(formData, 'totalPrivate', accumulateMoney(get(formData, 'privateAmounts'), 'amount', 2)): null;",
                            "properties": {
                              "totalHIF": {
                                "type": "string",
                                "title": "Total HIF Amount",
                                "currency": true
                              },
                              "publicAmounts": {
                                "type": "array",
                                "title": "Public",
                                "addable": true,
                                "items": {
                                  "type": "object",
                                  "horizontal": true,
                                  "title": "Funding Item",
                                  "properties": {
                                    "description": {
                                      "type": "string",
                                      "title": "Description"
                                    },
                                    "amount": {
                                      "type": "string",
                                      "title": "Amount",
                                      "currency": true
                                    }
                                  }
                                }
                              },
                              "totalPublic": {
                                "type": "string",
                                "title": "Total Public Contribution",
                                "readonly": true,
                                "currency": true
                              },
                              "privateAmounts": {
                                "type": "array",
                                "title": "Private",
                                "addable": true,
                                "items": {
                                  "type": "object",
                                  "horizontal": true,
                                  "title": "Funding Item",
                                  "properties": {
                                    "description": {
                                      "type": "string",
                                      "title": "Description"
                                    },
                                    "amount": {
                                      "type": "string",
                                      "title": "Amount",
                                      "currency": true
                                    }
                                  }
                                }
                              },
                              "totalPrivate": {
                                "type": "string",
                                "title": "Total Private Contribution",
                                "readonly": true,
                                "currency": true
                              }
                            }
                          }
                        }
                      }
                    ]
                  }
                }
              }
            }
          }
        }
      }
    },
    "widerScheme": {
      "type": "object",
      "title": "Wider Scheme",
      "properties": {
        "widerProjectMilestones": {
          "type": "object",
          "title": "Wider Project Milestones",
          "properties": {
            "milestones": {
              "type": "array",
              "title": "",
              "addable": true,
              "items": {
                "type": "object",
                "title": "Milestone",
                "properties": {
                  "milestone": {
                    "type": "string",
                    "title": "Description"
                  },
                  "baselineCompletion": {
                    "type": "string",
                    "format": "date",
                    "title": "Baseline Completion Date"
                  },
                  "criticalPath": {
                    "type": "string",
                    "title": "Critical path to achieving",
                    "extendedText": true
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
