{
  "$schema": "http://json-schema.org/draft-07/schema",
  "title": "HIF Project",
  "type": "object",
  "sharedData": [
    {
      "from": [
        "outputsActuals",
        "#",
        "siteOutputs",
        "starts",
        "starts",
        "startsSinceLastReturn"
      ],
      "to": [
        "outputsForecast",
        "inYearHousingStarts",
        "actualAmounts",
        "liveStarts",
        "#",
        "startsPerSite"
      ]
    },
    {
      "from": [
        "outputsActuals",
        "#",
        "siteOutputs",
        "starts",
        "starts",
        "completionsSinceLastReturn"
      ],
      "to": [
        "outputsForecast",
        "inYearHousingCompletions",
        "actualAmounts",
        "liveCompletions",
        "#",
        "completionsPerSite"
      ]
    }
  ],
  "properties": {
    "infrastructures": {
      "type": "array",
      "title": "Infrastructures",
      "items": {
        "title": "Infrastructure",
        "type": "object",
        "properties": {
          "summary": {
            "type": "object",
            "title": "Summary",
            "properties": {
              "type": {
                "type": "string",
                "title": "Type",
                "sourceKey": [
                  "baseline_data",
                  "infrastructures",
                  "type"
                ],
                "readonly": true
              },
              "description": {
                "type": "string",
                "title": "Description",
                "sourceKey": [
                  "baseline_data",
                  "infrastructures",
                  "description"
                ],
                "readonly": true
              },
              "housingSitesBenefitting": {
                "type": "string",
                "title": "Housing Sites Benefitting",
                "sourceKey": [
                  "baseline_data",
                  "infrastructures",
                  "type"
                ],
                "readonly": true
              }
            }
          },
          "planning": {
            "type": "object",
            "title": "Planning",
            "properties": {
              "outlinePlanning": {
                "type": "object",
                "calculation": "set(formData['planningSubmitted'], 'varianceBaselineFullPlanningPermissionSubmitted', weeksPassed(get(formData, 'planningSubmitted', 'baseline'), get(formData, 'planningSubmitted', 'current'))); set(formData['planningGranted'], 'varianceBaselineFullPlanningPermissionSubmitted', weeksPassed(get(formData, 'planningGranted', 'baseline'), get(formData, 'planningGranted', 'current'))); set(formData['planningSubmitted'], 'varianceLastReturnFullPlanningPermissionSubmitted', weeksPassed(get(formData, 'planningSubmitted', 'previousReturn'), get(formData, 'planningSubmitted', 'current'))); set(formData['planningGranted'], 'varianceLastReturnFullPlanningPermissionGranted', weeksPassed(get(formData, 'planningGranted', 'previousReturn'), get(formData, 'planningGranted', 'current')));",
                "title": "Outline Planning",
                "properties": {
                  "baselineOutlinePlanningPermissionGranted": {
                    "type": "string",
                    "title": "Outline Planning Permission granted",
                    "sourceKey": [
                      "baseline_data",
                      "infrastructures",
                      "outlinePlanningStatus",
                      "granted"
                    ],
                    "readonly": true,
                    "radio": true,
                    "enum": [
                      "Yes",
                      "No",
                      "N/A"
                    ]
                  }
                },
                "dependencies": {
                  "baselineOutlinePlanningPermissionGranted": {
                    "oneOf": [
                      {
                        "properties": {
                          "baselineOutlinePlanningPermissionGranted": {
                            "enum": [
                              "No"
                            ]
                          },
                          "baselineSummaryOfCriticalPath": {
                            "type": "string",
                            "title": "Summary Of Outline Planning Permission Critical Path",
                            "sourceKey": [
                              "baseline_data",
                              "infrastructures",
                              "outlinePlanningStatus",
                              "summaryOfCriticalPath"
                            ],
                            "readonly": true
                          },
                          "planningSubmitted": {
                            "title": "Planning Permission Submitted",
                            "type": "object",
                            "variance": true,
                            "required": [
                              "percentComplete"
                            ],
                            "properties": {
                              "targetDateOfAchievingStart": {
                                "type": "string",
                                "title": "Start on Site",
                                "sourceKey": ["infrastructures", "expectedInfrastructureStart", "targetDateOfAchievingStart"],
                                "hidden": true,
                                "readonly": true
                              },
                              "baseline": {
                                "type": "string",
                                "format": "date",
                                "title": "Baseline Target Date",
                                "sourceKey": [
                                  "baseline_data",
                                  "infrastructures",
                                  "outlinePlanningStatus",
                                  "targetSubmission"
                                ],
                                "readonly": true
                              },
                              "varianceBaselineFullPlanningPermissionSubmitted": {
                                "type": "string",
                                "readonly": true,
                                "title": "Variance Against Baseline Submitted Date (weeks) (Calculated)"
                              },
                              "varianceLastReturnFullPlanningPermissionSubmitted": {
                                "type": "string",
                                "readonly": true,
                                "title": "Variance Against Last Return Submitted Date (weeks) (Calculated)"
                              },
                              "status": {
                                "title": "Status against last return?",
                                "type": "string",
                                "radio": true,
                                "enum": [
                                  "Completed",
                                  "On schedule",
                                  "Delayed - minimal impact",
                                  "Delayed - moderate impact",
                                  "Delayed - critical"
                                ],
                                "default": "On schedule"
                              },
                              "current": {
                                "type": "string",
                                "format": "date",
                                "title": "Current Return"
                              },
                              "previousReturn": {
                                "type": "string",
                                "format": "date",
                                "sourceKey": [
                                  "return_data",
                                  "infrastructures",
                                  "planning",
                                  "outlinePlanning",
                                  "planningSubmitted",
                                  "current"
                                ]
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason for Variance"
                              },
                              "percentComplete": {
                                "type": "string",
                                "title": "Percent Complete",
                                "percentage": true
                              },
                              "completedDate": {
                                "type": "string",
                                "format": "date",
                                "title": "Completed Date"
                              },
                              "onCompletedReference": {
                                "type": "string",
                                "title": "Completed Reference"
                              }
                            }
                          },
                          "planningGranted": {
                            "title": "Planning Permission Granted",
                            "type": "object",
                            "variance": true,
                            "required": [
                              "percentComplete"
                            ],
                            "properties": {
                              "targetDateOfAchievingStart": {
                                "type": "string",
                                "title": "Start on Site",
                                "sourceKey": ["infrastructures", "expectedInfrastructureStart", "targetDateOfAchievingStart"],
                                "hidden": true,
                                "readonly": true
                              },
                              "baseline": {
                                "type": "string",
                                "format": "date",
                                "title": "Baseline Target Date",
                                "sourceKey": [
                                  "baseline_data",
                                  "infrastructures",
                                  "outlinePlanningStatus",
                                  "targetGranted"
                                ],
                                "readonly": true
                              },
                              "varianceBaselineFullPlanningPermissionGranted": {
                                "type": "string",
                                "readonly": true,
                                "title": "Variance Against Baseline Granted Date (weeks) (Calculated)"
                              },
                              "varianceLastReturnFullPlanningPermissionGranted": {
                                "type": "string",
                                "readonly": true,
                                "title": "Variance Against Last Return Granted Date (weeks) (Calculated)"
                              },
                              "status": {
                                "title": "Status against last return?",
                                "type": "string",
                                "radio": true,
                                "enum": [
                                  "Completed",
                                  "On schedule",
                                  "Delayed - minimal impact",
                                  "Delayed - moderate impact",
                                  "Delayed - critical"
                                ],
                                "default": "On schedule"
                              },
                              "current": {
                                "type": "string",
                                "format": "date",
                                "title": "Current Return"
                              },
                              "previousReturn": {
                                "type": "string",
                                "format": "date",
                                "sourceKey": [
                                  "return_data",
                                  "infrastructures",
                                  "planning",
                                  "outlinePlanning",
                                  "planningGranted",
                                  "current"
                                ]
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason for Variance"
                              },
                              "percentComplete": {
                                "type": "string",
                                "title": "Percent Complete",
                                "percentage": true
                              },
                              "completedDate": {
                                "type": "string",
                                "format": "date",
                                "title": "Completed Date"
                              }
                            }
                          }
                        }
                      },
                      {
                        "properties": {
                          "baselineOutlinePlanningPermissionGranted": {
                            "enum": [
                              "Yes"
                            ]
                          },
                          "reference": {
                            "type": "string",
                            "title": "Reference",
                            "readonly": true
                          }
                        }
                      },
                      {
                        "properties": {
                          "baselineOutlinePlanningPermissionGranted": {
                            "enum": [
                              "N/A"
                            ]
                          }
                        }
                      }
                    ]
                  }
                }
              },
              "fullPlanning": {
                "type": "object",
                "calculation": "set(formData['submitted'], 'varianceBaselineFullPlanningPermissionSubmitted', weeksPassed(get(formData, 'submitted', 'baseline'), get(formData, 'submitted', 'current'))); set(formData['granted'], 'varianceBaselineFullPlanningPermissionGranted', weeksPassed(get(formData, 'granted', 'baseline'), get(formData, 'granted', 'current'))); set(formData['submitted'], 'varianceLastReturnFullPlanningPermissionSubmitted', weeksPassed(get(formData, 'submitted', 'previousReturn'), get(formData, 'submitted', 'current'))); set(formData['granted'], 'varianceLastReturnFullPlanningPermissionGranted', weeksPassed(get(formData, 'granted', 'previousReturn'), get(formData, 'granted', 'current')));",
                "title": "Full Planning",
                "properties": {
                  "fullPlanningPermissionGranted": {
                    "type": "string",
                    "title": "Full Planning Permission granted",
                    "sourceKey": [
                      "baseline_data",
                      "infrastructures",
                      "fullPlanningStatus",
                      "granted"
                    ],
                    "readonly": true,
                    "radio": true,
                    "enum": [
                      "Yes",
                      "No",
                      "N/A"
                    ]
                  }
                },
                "dependencies": {
                  "fullPlanningPermissionGranted": {
                    "oneOf": [
                      {
                        "type": "object",
                        "properties": {
                          "fullPlanningPermissionGranted": {
                            "enum": [
                              "No"
                            ]
                          },
                          "fullPlanningPermissionSummaryOfCriticalPath": {
                            "type": "string",
                            "title": "Summary Of Full Planning Permission Critical Path",
                            "sourceKey": [
                              "baseline_data",
                              "infrastructures",
                              "fullPlanningStatus",
                              "summaryOfCriticalPath"
                            ],
                            "readonly": true
                          },
                          "submitted": {
                            "title": "Planning permission Submitted",
                            "type": "object",
                            "variance": true,
                            "required": [
                              "percentComplete"
                            ],
                            "properties": {
                              "targetDateOfAchievingStart": {
                                "type": "string",
                                "title": "Start on Site",
                                "sourceKey": ["infrastructures", "expectedInfrastructureStart", "targetDateOfAchievingStart"],
                                "hidden": true,
                                "readonly": true
                              },
                              "baseline": {
                                "type": "string",
                                "format": "date",
                                "title": "Baseline Target Date",
                                "sourceKey": [
                                  "baseline_data",
                                  "infrastructures",
                                  "fullPlanningStatus",
                                  "targetSubmission"
                                ],
                                "readonly": true
                              },
                              "varianceBaselineFullPlanningPermissionSubmitted": {
                                "type": "string",
                                "readonly": true,
                                "title": "Variance Against Baseline Submitted Date (weeks) (Calculated)"
                              },
                              "varianceLastReturnFullPlanningPermissionSubmitted": {
                                "type": "string",
                                "readonly": true,
                                "title": "Variance Against Last Return Submitted Date (weeks) (Calculated)"
                              },
                              "status": {
                                "title": "Status against last return?",
                                "type": "string",
                                "radio": true,
                                "enum": [
                                  "Completed",
                                  "On schedule",
                                  "Delayed - minimal impact",
                                  "Delayed - moderate impact",
                                  "Delayed - critical"
                                ],
                                "default": "On schedule"
                              },
                              "current": {
                                "type": "string",
                                "format": "date",
                                "title": "Current Return"
                              },
                              "previousReturn": {
                                "type": "string",
                                "format": "date",
                                "sourceKey": [
                                  "return_data",
                                  "infrastructures",
                                  "planning",
                                  "fullPlanning",
                                  "submitted",
                                  "current"
                                ]
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason for Variance"
                              },
                              "percentComplete": {
                                "type": "string",
                                "title": "Percent Complete",
                                "percentage": true
                              },
                              "completedDate": {
                                "type": "string",
                                "format": "date",
                                "title": "Completed Date"
                              },
                              "onCompletedReference": {
                                "type": "string",
                                "title": "Completed Reference"
                              }
                            }
                          },
                          "granted": {
                            "title": "Planning Permission Granted",
                            "type": "object",
                            "variance": true,
                            "required": [
                              "percentComplete"
                            ],
                            "properties": {
                              "targetDateOfAchievingStart": {
                                "type": "string",
                                "title": "Start on Site",
                                "sourceKey": ["infrastructures", "expectedInfrastructureStart", "targetDateOfAchievingStart"],
                                "hidden": true,
                                "readonly": true
                              },
                              "baseline": {
                                "type": "string",
                                "format": "date",
                                "title": "Baseline Target Date",
                                "sourceKey": [
                                  "baseline_data",
                                  "infrastructures",
                                  "fullPlanningStatus",
                                  "targetGranted"
                                ],
                                "readonly": true
                              },
                              "varianceBaselineFullPlanningPermissionGranted": {
                                "type": "string",
                                "readonly": true,
                                "title": "Variance Against Baseline Granted Date (weeks) (Calculated)"
                              },
                              "varianceLastReturnFullPlanningPermissionGranted": {
                                "type": "string",
                                "readonly": true,
                                "title": "Variance Against Last Return Granted Date (weeks) (Calculated)"
                              },
                              "status": {
                                "title": "Status against last return?",
                                "type": "string",
                                "radio": true,
                                "enum": [
                                  "Completed",
                                  "On schedule",
                                  "Delayed - minimal impact",
                                  "Delayed - moderate impact",
                                  "Delayed - critical"
                                ],
                                "default": "On schedule"
                              },
                              "current": {
                                "type": "string",
                                "format": "date",
                                "title": "Current Return"
                              },
                              "previousReturn": {
                                "type": "string",
                                "format": "date",
                                "sourceKey": [
                                  "return_data",
                                  "infrastructures",
                                  "planning",
                                  "fullPlanning",
                                  "granted",
                                  "current"
                                ]
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason for Variance"
                              },
                              "percentComplete": {
                                "type": "string",
                                "title": "Percent Complete",
                                "percentage": true
                              },
                              "completedDate": {
                                "type": "string",
                                "format": "date",
                                "title": "Completed Date"
                              }
                            }
                          }
                        }
                      },
                      {
                        "properties": {
                          "fullPlanningPermissionGranted": {
                            "enum": [
                              "Yes"
                            ]
                          },
                          "reference": {
                            "type": "string",
                            "title": "Reference",
                            "readonly": true
                          }
                        }
                      },
                      {
                        "properties": {
                          "fullPlanningPermissionGranted": {
                            "enum": [
                              "N/A"
                            ]
                          }
                        }
                      }
                    ]
                  }
                }
              },
              "section106": {
                "title": "Section 106",
                "type": "object",
                "properties": {
                  "s106Requirement": {
                    "type": "string",
                    "title": "S106 Requirement",
                    "sourceKey": [
                      "baseline_data",
                      "infrastructures",
                      "s106",
                      "requirement"
                    ],
                    "readonly": true,
                    "radio": true,
                    "enum": [
                      "Yes",
                      "No"
                    ]
                  }
                },
                "dependencies": {
                  "s106Requirement": {
                    "oneOf": [
                      {
                        "properties": {
                          "s106Requirement": {
                            "enum": [
                              "Yes"
                            ]
                          },
                          "s106SummaryOfRequirement": {
                            "type": "string",
                            "title": "Summary of S016 Requirement ",
                            "sourceKey": [
                              "baseline_data",
                              "infrastructures",
                              "s106",
                              "summaryOfRequirement"
                            ],
                            "readonly": true
                          }
                        }
                      },
                      {
                        "properties": {
                          "s106Requirement": {
                            "enum": [
                              "No"
                            ]
                          }
                        }
                      }
                    ]
                  }
                }
              },
              "statutoryConsents": {
                "type": "object",
                "title": "Statutory Consents",
                "properties": {
                  "anyStatutoryConsents": {
                    "type": "string",
                    "title": "Statutory consents to be met?",
                    "sourceKey": [
                      "baseline_data",
                      "infrastructures",
                      "statutoryConsents",
                      "anyConsents"
                    ],
                    "readonly": true,
                    "radio": true,
                    "enum": [
                      "Yes",
                      "No"
                    ]
                  }
                },
                "dependencies": {
                  "anyStatutoryConsents": {
                    "oneOf": [
                      {
                        "properties": {
                          "anyStatutoryConsents": {
                            "enum": [
                              "Yes"
                            ]
                          },
                          "statutoryConsents": {
                            "title": "Status of Statutory Consents",
                            "type": "array",
                            "items": {
                              "type": "object",
                              "title": "Statutory Consent",
                              "properties": {
                                "detailsOfConsent": {
                                  "title": "Details of Consent",
                                  "type": "string",
                                  "readonly": true
                                },
                                "statusOfConsent": {
                                  "type": "object",
                                  "title": "Status of Consent",
                                  "variance": true,
                                  "required": [
                                    "percentComplete"
                                  ],
                                  "properties": {
                                    "baseline": {
                                      "title": "Baseline Target",
                                      "type": "string",
                                      "format": "date",
                                      "sourceKey": [
                                        "baseline_data",
                                        "infrastructures",
                                        "statutoryConsents",
                                        "consents",
                                        "targetDateToBeMet"
                                      ],
                                      "readonly": true
                                    },
                                    "status": {
                                      "title": "Status against last return?",
                                      "type": "string",
                                      "radio": true,
                                      "enum": [
                                        "Completed",
                                        "On schedule",
                                        "Delayed - minimal impact",
                                        "Delayed - moderate impact",
                                        "Delayed - critical"
                                      ],
                                      "default": "On schedule"
                                    },
                                    "percentComplete": {
                                      "title": "Percentage complete",
                                      "type": "string",
                                      "percentage": true
                                    },
                                    "completedDate": {
                                      "title": "Completion date",
                                      "type": "string",
                                      "format": "date"
                                    },
                                    "current": {
                                      "title": "Current return",
                                      "type": "string",
                                      "format": "date",
                                      "sourceKey": [
                                        "return_data",
                                        "infrastructures",
                                        "planning",
                                        "section106",
                                        "statutoryConsents",
                                        "statutoryConsents",
                                        "currentReturn"
                                      ]
                                    },
                                    "previousReturn": {
                                      "title": "Previous Return",
                                      "readonly": true,
                                      "type": "string",
                                      "format": "date",
                                      "sourceKey": [
                                        "return_data",
                                        "infrastructures",
                                        "planning",
                                        "section106",
                                        "statutoryConsents",
                                        "statutoryConsents",
                                        "currentReturn"
                                      ]
                                    },
                                    "varianceAgainstBaseline": {
                                      "title": "Variance Against Baseline (weeks) (Calculated)",
                                      "type": "string",
                                      "readonly": true
                                    },
                                    "varianceAgainstLastReturn": {
                                      "title": "Variance Against Last Return (weeks) (Calculated)",
                                      "type": "string",
                                      "readonly": true
                                    },
                                    "reason": {
                                      "title": "Reason for variance",
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      },
                      {
                        "properties": {
                          "anyStatutoryConsents": {
                            "enum": [
                              "No"
                            ]
                          }
                        }
                      }
                    ]
                  }
                }
              }
            }
          },
          "landOwnership": {
            "type": "object",
            "title": "Land Ownership",
            "properties": {
              "landControl": {
                "type": "object",
                "title": "",
                "properties": {
                  "laHasControlOfSite": {
                    "type": "string",
                    "title": "LA Control of site(s) (related to infrastructure)? ",
                    "sourceKey": [
                      "baseline_data",
                      "infrastructures",
                      "landOwnership",
                      "underControlOfLA"
                    ],
                    "readonly": true,
                    "radio": true,
                    "enum": [
                      "Yes",
                      "No"
                    ]
                  }
                },
                "dependencies": {
                  "laHasControlOfSite": {
                    "oneOf": [
                      {
                        "properties": {
                          "laHasControlOfSite": {
                            "enum": [
                              "No"
                            ]
                          },
                          "laDoesNotControlSite": {
                            "type": "object",
                            "title": "Land ownership",
                            "properties": {
                              "whoOwnsSite": {
                                "type": "string",
                                "title": "Who owns site?",
                                "sourceKey": [
                                  "baseline_data",
                                  "infrastructures",
                                  "landOwnership",
                                  "ownershipOfLandOtherThanLA"
                                ],
                                "readonly": true
                              }
                            }
                          }
                        }
                      },
                      {
                        "properties": {
                          "laHasControlOfSite": {
                            "enum": [
                              "Yes"
                            ]
                          }
                        }
                      }
                    ]
                  }
                }
              },
              "acquisitionRequired": {
                "type": "object",
                "title": "",
                "calculation": "set(formData['allLandAssemblyAchieved'], 'landAssemblyVarianceAgainstBaseReturn', weeksPassed(get(formData, 'allLandAssemblyAchieved', 'baseline'), get(formData, 'allLandAssemblyAchieved', 'current')));",
                "properties": {
                  "landAcquisitionRequired": {
                    "type": "string",
                    "title": "Land acquisition required (related to infrastructure)?",
                    "sourceKey": [
                      "baseline_data",
                      "infrastructures",
                      "landOwnership",
                      "landAcquisitionRequired"
                    ],
                    "readonly": true,
                    "radio": true,
                    "enum": [
                      "Yes",
                      "No"
                    ]
                  }
                },
                "dependencies": {
                  "landAcquisitionRequired": {
                    "oneOf": [
                      {
                        "properties": {
                          "landAcquisitionRequired": {
                            "enum": [
                              "Yes"
                            ]
                          },
                          "howManySitesToAquire": {
                            "type": "string",
                            "title": "Number of Sites to aquire?",
                            "sourceKey": [
                              "baseline_data",
                              "infrastructures",
                              "landOwnership",
                              "howManySitesToAcquire"
                            ],
                            "readonly": true
                          },
                          "toBeAquiredBy": {
                            "type": "string",
                            "title": "Acquired by LA or Developer?",
                            "sourceKey": [
                              "baseline_data",
                              "infrastructures",
                              "landOwnership",
                              "toBeAcquiredBy"
                            ],
                            "readonly": true
                          },
                          "summaryOfAcquisitionRequired": {
                            "type": "string",
                            "title": "Summary of acquisition required",
                            "sourceKey": [
                              "baseline_data",
                              "infrastructures",
                              "landOwnership",
                              "summaryOfCriticalPath"
                            ],
                            "readonly": true
                          },
                          "allLandAssemblyAchieved": {
                            "type": "object",
                            "title": "All land assembly achieved",
                            "required": [
                              "percentComplete"
                            ],
                            "variance": true,
                            "properties": {
                              "baseline": {
                                "type": "string",
                                "format": "date",
                                "title": "Baseline Target",
                                "sourceKey": [
                                  "baseline_data",
                                  "infrastructures",
                                  "landOwnership",
                                  "targetDateToAcquire"
                                ],
                                "readonly": true
                              },
                              "previousReturn": {
                                "type": "string",
                                "format": "date",
                                "readonly": true
                              },
                              "landAssemblyVarianceAgainstLastReturn": {
                                "type": "string",
                                "readonly": true,
                                "title": "Variance Against Last Return (weeks) (Calculated)"
                              },
                              "landAssemblyVarianceAgainstBaseReturn": {
                                "type": "string",
                                "readonly": true,
                                "title": "Variance Against Base Return (weeks) (Calculated)"
                              },
                              "status": {
                                "title": "Status against last return?",
                                "type": "string",
                                "radio": true,
                                "enum": [
                                  "Completed",
                                  "On schedule",
                                  "Delayed"
                                ],
                                "default": "On schedule"
                              },
                              "current": {
                                "type": "string",
                                "format": "date",
                                "title": "Current Return"
                              },
                              "reason": {
                                "type": "string",
                                "title": "Reason for Variance"
                              },
                              "percentComplete": {
                                "type": "string",
                                "title": "Percent complete",
                                "percentage": true
                              },
                              "completedDate": {
                                "type": "string",
                                "format": "date",
                                "title": "On Completed Date"
                              }
                            }
                          }
                        }
                      },
                      {
                        "properties": {
                          "landAcquisitionRequired": {
                            "enum": [
                              "No"
                            ]
                          }
                        }
                      }
                    ]
                  }
                }
              }
            }
          },
          "procurement": {
            "type": "object",
            "title": "Procurement",
            "properties": {
              "contractorProcured": {
                "type": "string",
                "title": "Infrastructure contractor procured?",
                "sourceKey": [
                  "baseline_data",
                  "infrastructures",
                  "procurement",
                  "contractorProcured"
                ],
                "readonly": true,
                "radio": true,
                "enum": [
                  "Yes",
                  "No"
                ]
              }
            },
            "dependencies": {
              "contractorProcured": {
                "oneOf": [
                  {
                    "properties": {
                      "contractorProcured": {
                        "enum": [
                          "Yes"
                        ]
                      },
                      "nameOfContractor": {
                        "sourceKey": [
                          "baseline_data",
                          "infrastructures",
                          "procurement",
                          "nameOfContractor"
                        ],
                        "type": "string",
                        "title": "Name of Contractor",
                        "readonly": true
                      }
                    }
                  },
                  {
                    "properties": {
                      "contractorProcured": {
                        "enum": [
                          "No"
                        ]
                      },
                      "summaryOfCriticalPath": {
                        "sourceKey": [
                          "baseline_data",
                          "infrastructures",
                          "procurement",
                          "summaryOfCriticalPath"
                        ],
                        "type": "string",
                        "title": "Summary of Critical Procurement Path",
                        "readonly": true,
                        "extendedText": true
                      },
                      "procurementStatusAgainstLastReturn": {
                        "type": "object",
                        "title": "Infrastructure Contractor Procurement",
                        "variance": true,
                        "required": [
                          "percentComplete"
                        ],
                        "properties": {
                          "targetDateOfAchievingStart": {
                            "type": "string",
                            "title": "Start on Site",
                            "sourceKey": [
                              "baseline_data",
                              "infrastructures",
                              "expectedInfrastructureStart",
                              "targetDateOfAchievingStart"
                            ],
                            "hidden": true,
                            "readonly": true
                          },
                          "baseline": {
                            "type": "string",
                            "format": "date",
                            "title": "Target date of procuring",
                            "sourceKey": [
                              "baseline_data",
                              "infrastructures",
                              "procurement",
                              "targetDate"
                            ],
                            "readonly": true
                          },
                          "previousReturn": {
                            "title": "Previous return target date",
                            "type": "string",
                            "format": "date",
                            "readonly": true,
                            "sourceKey": [
                              "return_data",
                              "infrastructures",
                              "procurement",
                              "procurementStatusAgainstLastReturn",
                              "current"
                            ]
                          },
                          "status": {
                            "title": "Status against last return?",
                            "type": "string",
                            "radio": true,
                            "enum": [
                              "Completed",
                              "On schedule",
                              "Delayed - minimal impact",
                              "Delayed - moderate impact",
                              "Delayed - critical"
                            ],
                            "default": "On schedule"
                          },
                          "completedDate": {
                            "type": "string",
                            "format": "date",
                            "title": "Completion Date"
                          },
                          "onCompletedNameOfContractor": {
                            "type": "string",
                            "title": "Name of Contractor"
                          },
                          "percentComplete": {
                            "type": "string",
                            "title": "Percent complete",
                            "percentage": true
                          },
                          "procurementVarianceAgainstLastReturn": {
                            "type": "string",
                            "readonly": true,
                            "title": "Variance against last return (Weeks)"
                          },
                          "procurementVarianceAgainstBaseline": {
                            "type": "string",
                            "readonly": true,
                            "title": "Variance against baseline (Weeks)"
                          },
                          "current": {
                            "type": "string",
                            "format": "date",
                            "title": "Current expected date of Procurement"
                          },
                          "reason": {
                            "type": "string",
                            "title": "Reason for Variance"
                          }
                        }
                      }
                    }
                  }
                ]
              }
            }
          },
          "milestones": {
            "type": "object",
            "title": "Milestones",
            "calculation": "set(formData, 'cumulativeadditionalMilestones', combineArrays(get(formData, 'previousMilestones'), get(formData, 'additionalMilestones')))",
            "properties": {
              "keyMilestones": {
                "type": "array",
                "title": "Key Project Milestones",
                "items": {
                  "type": "object",
                  "title": "Key Project Milestone",
                  "milestone": true,
                  "required": [
                    "milestonePercentCompleted"
                  ],
                  "properties": {
                    "description": {
                      "sourceKey": [
                        "baseline_data",
                        "infrastructures",
                        "milestones",
                        "descriptionOfMilestone"
                      ],
                      "readonly": true,
                      "type": "string",
                      "title": "Description"
                    },
                    "milestoneBaselineCompletion": {
                      "sourceKey": [
                        "baseline_data",
                        "infrastructures",
                        "milestones",
                        "target"
                      ],
                      "readonly": true,
                      "type": "string",
                      "format": "date",
                      "title": "Baseline Target Date"
                    },
                    "milestoneSummaryOfCriticalPath": {
                      "sourceKey": [
                        "baseline_data",
                        "infrastructures",
                        "milestones",
                        "summaryOfCriticalPath"
                      ],
                      "type": "string",
                      "title": "Summary of Baseline Critical Path",
                      "readonly": true
                    },
                    "milestoneLastReturnDate": {
                      "type": "string",
                      "hidden": true
                    },
                    "milestoneVarianceAgainstLastReturn": {
                      "type": "string",
                      "readonly": true,
                      "title": "Variance Against Last Return (weeks) (Calculated)"
                    },
                    "milestoneVarianceAgainstBaseline": {
                      "type": "string",
                      "readonly": true,
                      "title": "Variance Against Baseline (weeks) (Calculated)"
                    },
                    "statusAgainstLastReturn": {
                      "title": "Status against last return?",
                      "type": "string",
                      "radio": true,
                      "enum": [
                        "Completed",
                        "On schedule",
                        "Delayed"
                      ],
                      "default": "On schedule"
                    },
                    "currentReturn": {
                      "type": "string",
                      "format": "date",
                      "title": "Current Return"
                    },
                    "reasonForVariance": {
                      "type": "string",
                      "title": "Reason for Variance"
                    },
                    "milestonePercentCompleted": {
                      "type": "string",
                      "title": "Percent complete",
                      "percentage": true
                    },
                    "milestoneCompletedDate": {
                      "type": "string",
                      "format": "date",
                      "title": "Baseline Target"
                    }
                  }
                }
              },
              "startAndCompletionMilestones": {
                "title": "Start and Completion Milestones",
                "type": "object",
                "properties": {
                  "expectedInfrastructureStartOnSite": {
                    "type": "object",
                    "title": "Expected infrastructure start on site",
                    "required": [
                      "percentComplete"
                    ],
                    "variance": true,
                    "properties": {
                      "baseline": {
                        "sourceKey": [
                          "baseline_data",
                          "infrastructures",
                          "expectedInfrastructureStart",
                          "targetDateOfAchievingStart"
                        ],
                        "type": "string",
                        "title": "Baseline Target Date",
                        "readonly": true
                      },
                      "varianceAgainstLastReturn": {
                        "type": "string",
                        "readonly": true,
                        "title": "Variance Against Last Return (weeks) (Calculated)"
                      },
                      "varianceAgainstBaseline": {
                        "type": "string",
                        "readonly": true,
                        "title": "Variance Against Baseline (weeks) (Calculated)"
                      },
                      "previousReturn": {
                        "type": "string",
                        "readonly": true
                      },
                      "status": {
                        "title": "Status against last return?",
                        "type": "string",
                        "radio": true,
                        "enum": [
                          "Completed",
                          "On schedule",
                          "Delayed"
                        ],
                        "default": "On schedule"
                      },
                      "current": {
                        "type": "string",
                        "format": "date",
                        "title": "Current Date"
                      },
                      "reason": {
                        "type": "string",
                        "title": "Reason for variance"
                      },
                      "percentComplete": {
                        "type": "string",
                        "title": "Percent complete",
                        "perentage": true
                      },
                      "completedDate": {
                        "type": "string",
                        "format": "date",
                        "title": "Completed Date"
                      }
                    }
                  },
                  "expectedCompletionDateOfInfra": {
                    "type": "object",
                    "title": "Expected Completion Date of Infrastructure",
                    "variance": true,
                    "required": [
                      "percentComplete"
                    ],
                    "properties": {
                      "baseline": {
                        "sourceKey": [
                          "baseline_data",
                          "infrastructures",
                          "expectedInfrastructureCompletion",
                          "targetDateOfAchievingCompletion"
                        ],
                        "type": "string",
                        "format": "date",
                        "title": "Baseline Target Date",
                        "readonly": true
                      },
                      "previousReturn": {
                        "type": "string",
                        "readonly": true
                      },
                      "varianceAgainstLastReturn": {
                        "type": "string",
                        "readonly": true,
                        "title": "Variance Against Last Return (weeks) (Calculated)"
                      },
                      "varianceAgainstBaseline": {
                        "type": "string",
                        "readonly": true,
                        "title": "Variance Against Baseline (weeks) (Calculated)"
                      },
                      "status": {
                        "title": "Status against last return?",
                        "type": "string",
                        "radio": true,
                        "enum": [
                          "Completed",
                          "On schedule",
                          "Delayed"
                        ],
                        "default": "On schedule"
                      },
                      "current": {
                        "type": "string",
                        "format": "date",
                        "title": "Current Date"
                      },
                      "reason": {
                        "type": "string",
                        "title": "Reason for variance"
                      },
                      "percentComplete": {
                        "type": "string",
                        "title": "Percent complete",
                        "percentage": true
                      },
                      "completedDate": {
                        "type": "string",
                        "format": "date",
                        "title": "Completed Date"
                      }
                    }
                  }
                }
              },
              "additionalMilestones": {
                "type": "array",
                "title": "Additional Milestones",
                "description": "Click on the plus button to add additional milestones.",
                "addable": true,
                "items": {
                  "type": "object",
                  "horizontal": true,
                  "title": "Additional Milestone",
                  "required": [
                    "description",
                    "milestoneBaselineCompletion",
                    "milestoneSummaryOfCriticalPath"
                  ],
                  "properties": {
                    "description": {
                      "type": "string",
                      "title": "Description"
                    },
                    "milestoneBaselineCompletion": {
                      "type": "string",
                      "format": "date",
                      "title": "Target date of completion"
                    },
                    "milestoneSummaryOfCriticalPath": {
                      "type": "string",
                      "title": "Summary of Critical Path"
                    }
                  }
                }
              },
              "cumulativeadditionalMilestones": {
                "type": "array",
                "title": "",
                "items": {
                  "type": "object",
                  "properties": {
                    "description": {
                      "type": "string",
                      "title": "Description",
                      "hidden": true
                    },
                    "milestoneBaselineCompletion": {
                      "type": "string",
                      "format": "date",
                      "title": "Target date of completion",
                      "hidden": true
                    },
                    "milestoneSummaryOfCriticalPath": {
                      "type": "string",
                      "title": "Summary of Critical Path",
                      "hidden": true
                    },
                    "currentReturn": {
                      "type": "string",
                      "hidden": true
                    },
                    "milestonePercentCompleted": {
                      "type": "string",
                      "hidden": true
                    },
                    "milestoneCompletedDate": {
                      "type": "string",
                      "hidden": true
                    },
                    "statusAgainstLastReturn": {
                      "type": "string",
                      "hidden": true,
                      "enum": [
                        "Completed",
                        "On schedule",
                        "Delayed"
                      ]
                    }
                  }
                }
              },
              "previousMilestones": {
                "type": "array",
                "title": "Previous Return Milestones (Additional to Baseline)",
                "items": {
                  "type": "object",
                  "milestone": true,
                  "required": [
                    "milestonePercentCompleted"
                  ],
                  "properties": {
                    "description": {
                      "sourceKey": [
                        "return_data",
                        "infrastructures",
                        "milestones",
                        "cumulativeadditionalMilestones",
                        "description"
                      ],
                      "readonly": true,
                      "type": "string",
                      "title": "Description"
                    },
                    "milestonesBaselineCompletion": {
                      "sourceKey": [
                        "return_data",
                        "infrastructures",
                        "milestones",
                        "cumulativeadditionalMilestones",
                        "completion"
                      ],
                      "readonly": true,
                      "type": "string",
                      "format": "date",
                      "title": "Completion Date"
                    },
                    "milestoneSummaryOfCriticalPath": {
                      "sourceKey": [
                        "return_data",
                        "infrastructures",
                        "milestones",
                        "cumulativeadditionalMilestones",
                        "criticalPath"
                      ],
                      "type": "string",
                      "title": "Summary of Baseline Critical Path",
                      "readonly": true
                    },
                    "milestoneLastReturnDate": {
                      "type": "string",
                      "hidden": true
                    },
                    "milestoneVarianceAgainstLastReturn": {
                      "type": "string",
                      "readonly": true,
                      "hidden": true,
                      "title": "Variance Against Last Return (weeks) (Calculated)"
                    },
                    "milestoneVarianceAgainstBaseline": {
                      "type": "string",
                      "readonly": true,
                      "hidden": true,
                      "title": "Variance Against Baseline (weeks) (Calculated)"
                    },
                    "statusAgainstLastReturn": {
                      "title": "Status Against Last Return?",
                      "type": "string",
                      "radio": true,
                      "enum": [
                        "Completed",
                        "On schedule",
                        "Delayed"
                      ],
                      "default": "On schedule"
                    },
                    "currentReturn": {
                      "type": "string",
                      "format": "date",
                      "title": "Current Return"
                    },
                    "reasonForVariance": {
                      "type": "string",
                      "title": "Reason for Variance"
                    },
                    "milestonePercentCompleted": {
                      "type": "string",
                      "title": "Percent complete",
                      "percentage": true
                    },
                    "milestoneCompletedDate": {
                      "type": "string",
                      "format": "date",
                      "readonly": true,
                      "hidden": true,
                      "title": "On Completed date (Calculated)"
                    }
                  }
                }
              }
            }
          },
          "risks": {
            "type": "object",
            "title": "Risks",
            "calculation": "set(formData, 'cumulativeadditionalRisks', combineArrays(get(formData, 'previousRisks'), get(formData, 'additionalRisks')))",
            "properties": {
              "baselineRisks": {
                "type": "array",
                "title": "Baseline Risks",
                "items": {
                  "type": "object",
                  "risk": true,
                  "required": [
                    "riskMet"
                  ],
                  "title": "Risk",
                  "properties": {
                    "riskBaselineRisk": {
                      "sourceKey": [
                        "baseline_data",
                        "infrastructures",
                        "risksToAchievingTimescales",
                        "descriptionOfRisk"
                      ],
                      "type": "string",
                      "title": "Description Of Risk",
                      "readonly": true
                    },
                    "riskBaselineImpact": {
                      "sourceKey": [
                        "baseline_data",
                        "infrastructures",
                        "risksToAchievingTimescales",
                        "impactOfRisk"
                      ],
                      "type": "string",
                      "title": "Impact",
                      "readonly": true
                    },
                    "riskBaselineLikelihood": {
                      "sourceKey": [
                        "baseline_data",
                        "infrastructures",
                        "risksToAchievingTimescales",
                        "likelihoodOfRisk"
                      ],
                      "type": "string",
                      "title": "Likelihood",
                      "readonly": true
                    },
                    "riskCurrentReturnLikelihood": {
                      "type": "string",
                      "title": "Current Likelihood",
                      "enum": [
                        "1",
                        "2",
                        "3",
                        "4",
                        "5"
                      ]
                    },
                    "riskBaselineMitigationsInPlace": {
                      "type": "string",
                      "title": "Mitigation in place",
                      "readonly": true
                    },
                    "riskAnyChange": {
                      "type": "string",
                      "title": "Any Change to Mitigation?",
                      "radio": true,
                      "enum": [
                        "Yes",
                        "No"
                      ]
                    },
                    "riskCurrentReturnMitigationsInPlace": {
                      "type": "string",
                      "title": "Current Return Mitigations in place"
                    },
                    "riskMet": {
                      "type": "string",
                      "radio": true,
                      "enum": [
                        "Yes",
                        "No"
                      ],
                      "title": "Risk Met?"
                    },
                    "riskCompletionDate": {
                      "type": "string",
                      "title": "Completion Date",
                      "format": "date"
                    }
                  }
                }
              },
              "additionalRisks": {
                "type": "array",
                "title": "Any additional risks to baseline?",
                "addable": true,
                "items": {
                  "type": "object",
                  "horizontal": true,
                  "required": [
                    "description",
                    "impact",
                    "likelihood",
                    "mitigations"
                  ],
                  "title": "Additional Risk",
                  "properties": {
                    "description": {
                      "type": "string",
                      "title": "Description"
                    },
                    "impact": {
                      "type": "string",
                      "title": "Impact",
                      "enum": [
                        "1",
                        "2",
                        "3",
                        "4",
                        "5"
                      ]
                    },
                    "likelihood": {
                      "type": "string",
                      "title": "Likelihood",
                      "enum": [
                        "1",
                        "2",
                        "3",
                        "4",
                        "5"
                      ]
                    },
                    "mitigations": {
                      "type": "string",
                      "title": "Mitigations in place"
                    }
                  }
                }
              },
              "cumulativeadditionalRisks": {
                "type": "array",
                "title": " ",
                "items": {
                  "type": "object",
                  "properties": {
                    "description": {
                      "type": "string",
                      "hidden": true,
                      "title": "Description"
                    },
                    "impact": {
                      "hidden": true,
                      "type": "string",
                      "title": "Impact"
                    },
                    "likelihood": {
                      "hidden": true,
                      "type": "string",
                      "title": "Likelihood"
                    },
                    "mitigations": {
                      "hidden": true,
                      "type": "string",
                      "title": "Mitigations in place"
                    }
                  }
                }
              },
              "previousRisks": {
                "type": "array",
                "title": "Previous Return Risks (Additional to Baseline)",
                "items": {
                  "type": "object",
                  "horizontal": true,
                  "properties": {
                    "description": {
                      "sourceKey": [
                        "return_data",
                        "infrastructures",
                        "risks",
                        "cumulativeadditionalRisks",
                        "description"
                      ],
                      "type": "string",
                      "title": "Description Of Risk",
                      "readonly": true
                    },
                    "impact": {
                      "sourceKey": [
                        "return_data",
                        "infrastructures",
                        "risks",
                        "cumulativeadditionalRisks",
                        "impact"
                      ],
                      "type": "string",
                      "title": "Impact",
                      "readonly": true
                    },
                    "likelihood": {
                      "sourceKey": [
                        "return_data",
                        "infrastructures",
                        "risks",
                        "cumulativeadditionalRisks",
                        "likelihood"
                      ],
                      "type": "string",
                      "title": "Likelihood",
                      "readonly": true
                    },
                    "riskCurrentReturnLikelihood": {
                      "type": "string",
                      "title": "Current Return Likelihood"
                    },
                    "mitigations": {
                      "sourceKey": [
                        "return_data",
                        "infrastructures",
                        "risks",
                        "cumulativeadditionalRisks",
                        "mitigations"
                      ],
                      "type": "string",
                      "title": "Mitigation in place",
                      "readonly": true
                    },
                    "riskAnyChange": {
                      "type": "string",
                      "title": "Any change in risk?",
                      "radio": true,
                      "enum": [
                        "Yes",
                        "No"
                      ]
                    },
                    "riskCurrentReturnMitigationsInPlace": {
                      "type": "string",
                      "title": "Current Return Mitigations in place"
                    },
                    "riskMetDate": {
                      "type": "string",
                      "format": "date",
                      "readonly": true,
                      "hidden": true,
                      "title": "Risk Met Date (Calculated)"
                    }
                  }
                }
              }
            }
          },
          "progress": {
            "type": "object",
            "title": "Progress",
            "calculation": "setCreate(formData, ['carriedForward'], combineArrays(get(formData, 'actionsForNextQuarter'), filterForNos(get(formData, 'progressAgainstActions'), ['met'])));",
            "required": [
              "describeQuarterProgress"
            ],
            "properties": {
              "describeQuarterProgress": {
                "type": "string",
                "title": "Describe progress for last quarter"
              },
              "progressAgainstActions": {
                "type": "array",
                "title": "Progress against Actions",
                "items": {
                  "type": "object",
                  "horizontal": true,
                  "required": [
                    "met"
                  ],
                  "properties": {
                    "description": {
                      "sourceKey": [
                        "return_data",
                        "infrastructures",
                        "progress",
                        "actionsForNextQuarter",
                        "description"
                      ],
                      "type": "string",
                      "readonly": true,
                      "title": "Description of Live Action"
                    },
                    "met": {
                      "type": "string",
                      "title": "Action Met?",
                      "radio": true,
                      "enum": [
                        "Yes",
                        "No"
                      ]
                    }
                  },
                  "dependencies": {
                    "met": {
                      "oneOf": [
                        {
                          "properties": {
                            "met": {
                              "type": "string",
                              "title": "Action Met?",
                              "radio": true,
                              "enum": [
                                "Yes"
                              ]
                            }
                          }
                        },
                        {
                          "required": [
                            "progress"
                          ],
                          "properties": {
                            "met": {
                              "type": "string",
                              "title": "Action Met?",
                              "radio": true,
                              "enum": [
                                "No"
                              ]
                            },
                            "progress": {
                              "type": "string",
                              "title": "Progress against action if not met"
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              },
              "actionsForNextQuarter": {
                "type": "array",
                "title": "Actions for next quarter",
                "addable": true,
                "minItems": 1,
                "items": {
                  "type": "object",
                  "title": "Action",
                  "required": [
                    "description"
                  ],
                  "properties": {
                    "description": {
                      "type": "string",
                      "title": "Action Description"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "fundingProfiles": {
      "type": "object",
      "title": "HIF Grant Expenditure",
      "calculation": "get(formData, 'changeRequired') === 'Change required' ? set(formData['currentFunding'], 'forecast', get(formData, 'requestedProfiles', 'newProfile')) : set(formData['currentFunding'], 'forecast', get(formData, 'fundingRequest', 'forecast')); validateCumulativeArrayPropertyIsLessThan(formData['requestedProfiles']['newProfile'], ['totalHolder', 'total'], parseMoney(get(formData, 'totalHIFGrant'))); setArrayVariance(formData['fundingRequest']['forecast'], 'instalment1', formData['requestedProfiles']['newProfile'], 'instalment1', 'instalment1Variance'); setArrayVariance(formData['fundingRequest']['forecast'], 'instalment2', formData['requestedProfiles']['newProfile'], 'instalment2', 'instalment2Variance'); setArrayVariance(formData['fundingRequest']['forecast'], 'instalment3', formData['requestedProfiles']['newProfile'], 'instalment3', 'instalment3Variance'); setArrayVariance(formData['fundingRequest']['forecast'], 'instalment4', formData['requestedProfiles']['newProfile'], 'instalment4', 'instalment4Variance');",
      "required": [
        "changeRequired"
      ],
      "properties": {
        "totalHIFGrant": {
          "type": "string",
          "title": "Total HIF Grant",
          "readonly": true,
          "currency": true,
          "sourceKey": [
            "baseline_data",
            "summary",
            "hifFundingAmount"
          ]
        },
        "fundingRequest": {
          "type": "object",
          "title": "Funding Request",
          "properties": {
            "forecast": {
              "title": "Forecast",
              "type": "array",
              "quarterly": true,
              "items": {
                "type": "object",
                "properties": {
                  "period": {
                    "title": "Period",
                    "type": "string",
                    "sourceKey": [
                      "baseline_data",
                      "fundingProfiles",
                      "period"
                    ],
                    "readonly": true
                  },
                  "instalment1": {
                    "title": "1st Quarter",
                    "type": "string",
                    "sourceKey": [
                      "baseline_data",
                      "fundingProfiles",
                      "instalment1"
                    ],
                    "readonly": true,
                    "currency": true
                  },
                  "instalment2": {
                    "title": "2nd Quarter",
                    "type": "string",
                    "sourceKey": [
                      "baseline_data",
                      "fundingProfiles",
                      "instalment2"
                    ],
                    "readonly": true,
                    "currency": true
                  },
                  "instalment3": {
                    "title": "3rd Quarter",
                    "type": "string",
                    "sourceKey": [
                      "baseline_data",
                      "fundingProfiles",
                      "instalment3"
                    ],
                    "readonly": true,
                    "currency": true
                  },
                  "instalment4": {
                    "title": "4th Quarter",
                    "type": "string",
                    "sourceKey": [
                      "baseline_data",
                      "fundingProfiles",
                      "instalment4"
                    ],
                    "readonly": true,
                    "currency": true
                  },
                  "totalHolder": {
                    "type": "object",
                    "title": "Total",
                    "validated": false,
                    "invalidText": "Total exceeds HIF grant",
                    "properties": {
                      "total": {
                        "type": "string",
                        "currency": true,
                        "readonly": true
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "changeRequired": {
          "type": "string",
          "title": "Change Required?",
          "description": "Please confirm there are no changes to be made to the funding profile",
          "radio": true,
          "enum": [
            "Confirmed",
            "Change required"
          ]
        },
        "currentFunding": {
          "type": "object",
          "title": "",
          "properties": {
            "forecast": {
              "title": "",
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "period": {
                    "title": "Period",
                    "type": "string",
                    "hidden": true
                  },
                  "instalment1": {
                    "title": "1st Quarter",
                    "type": "string",
                    "hidden": true
                  },
                  "instalment2": {
                    "title": "2nd Quarter",
                    "type": "string",
                    "hidden": true
                  },
                  "instalment3": {
                    "title": "3rd Quarter",
                    "type": "string",
                    "hidden": true
                  },
                  "instalment4": {
                    "title": "4th Quarter",
                    "type": "string",
                    "hidden": true
                  }
                }
              }
            }
          }
        },
        "projectCashflows": {
          "title": "Project Cashflow(s)",
          "type": "array",
          "uploadFile": "multiple",
          "description": "Any changes to agreed cashflow will need to be agreed by s.151 officer - you will be asked to agree to this on submission.",
          "items": {
            "type": "string"
          }
        }
      },
      "dependencies": {
        "changeRequired": {
          "oneOf": [
            {
              "required": [
                "reasonForRequest",
                "mitigationInPlace",
                "requestedProfiles"
              ],
              "properties": {
                "changeRequired": {
                  "enum": [
                    "Change required"
                  ]
                },
                "reasonForRequest": {
                  "type": "string",
                  "title": "Reason for request",
                  "description": "Changes to funding profile will need to be agreed by s.151 officer - you will be asked to agree to this on submission."
                },
                "mitigationInPlace": {
                  "type": "string",
                  "title": "Mitigation in place to reduce further slippage"
                },
                "requestedProfiles": {
                  "type": "object",
                  "title": "Funding Request",
                  "calculation": "periodTotal(formData, ['totalHolder', 'total'], 'newProfile', 'instalment1', 'instalment2', 'instalment3', 'instalment4');",
                  "properties": {
                    "newProfile": {
                      "title": "New Profile",
                      "quarterly": true,
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "period": {
                            "title": "Period",
                            "type": "string",
                            "sourceKey": [
                              "baseline_data",
                              "fundingProfiles",
                              "period"
                            ],
                            "readonly": true,
                            "varianceField": "varianceTitle"
                          },
                          "instalment1": {
                            "title": "1st Quarter",
                            "type": "string",
                            "varianceField": "instalment1Variance",
                            "currency": true
                          },
                          "instalment1Variance": {
                            "title": "Instalment 1 Variance",
                            "type": "string",
                            "hidden": true,
                            "currency": true
                          },
                          "instalment2": {
                            "title": "2nd Quarter",
                            "type": "string",
                            "varianceField": "instalment2Variance",
                            "currency": true
                          },
                          "instalment2Variance": {
                            "title": "Instalment 1 Variance",
                            "type": "string",
                            "currency": true,
                            "hidden": true
                          },
                          "instalment3": {
                            "title": "3rd Quarter",
                            "type": "string",
                            "varianceField": "instalment3Variance",
                            "currency": true
                          },
                          "instalment3Variance": {
                            "title": "Instalment 1 Variance",
                            "type": "string",
                            "currency": true,
                            "hidden": true
                          },
                          "instalment4": {
                            "title": "4th Quarter",
                            "type": "string",
                            "varianceField": "instalment4Variance",
                            "currency": true
                          },
                          "instalment4Variance": {
                            "title": "Instalment 1 Variance",
                            "type": "string",
                            "currency": true,
                            "hidden": true
                          },
                          "totalHolder": {
                            "type": "object",
                            "title": "Total",
                            "validated": true,
                            "invalidText": "Total exceeds HIF grant",
                            "properties": {
                              "total": {
                                "type": "string",
                                "currency": true,
                                "readonly": true
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            {
              "properties": {
                "changeRequired": {
                  "enum": [
                    "Confirmed"
                  ]
                }
              }
            }
          ]
        }
      }
    },
    "fundingPackages": {
      "type": "array",
      "title": "Funding Packages",
      "items": {
        "type": "object",
        "title": "Funding for Infrastructure",
        "properties": {
          "fundingStack": {
            "type": "object",
            "title": "Funding stack",
            "calculation": "
setCreate(formData,
  path('hifSpendSinceLastReturn', 'hifSpendSinceLastReturnHolder', 'remaining'),
  String(
    (parseMoney(
      (get(formData, path('fundedThroughHIF','fundedThroughHIFCurrent')) === 'Yes') ?
        get(formData, path('totalCost', 'previousAmounts', 'baseline')) :
        get(formData, path('fundedThroughHIF', 'hifSpend', 'previousAmounts', 'baseline')
      )
    ) -
    parseMoney(
      get(formData, path('hifSpendSinceLastReturn', 'hifSpendSinceLastReturnHolder', 'cumulativeIncCurrentReturn')))
    )
  )
);

get(formData, 'anyChangeToDescription', 'confirmation') === 'Yes' ?
  set(formData, 'currentFundingStackDescription', get(formData, path('anyChangeToDescription', 'updatedFundingStack'))) :
  set(formData, 'currentFundingStackDescription', get(formData, path('descriptionOfFundingStack')));

set(formData['totalCost'], 'percentComplete', calculateVariance(parseMoney(get(formData, path('totalCost', 'current'))), parseMoney(get(formData, path('totalCost', 'baseline')))));",
            "properties": {
              "currentFundingStackDescription": {
                "type": "string",
                "hidden": true,
                "title": ""
              },
              "descriptionOfInfrastructure": {
                "title": "Description of Infrastructure",
                "type": "string",
                "extendedText": true,
                "readonly": true
              },
              "totalCost": {
                "title": "",
                "type": "object",
                "calculation": "
get(formData, 'anyChange') === 'Yes' ?
  setCreate(formData, path('variance', 'currentAmount'), get(formData, path('variance', 'current'))) :
  setCreate(formData, path('variance', 'currentAmount'), get(formData, path('previousAmounts', 'lastReturn')));

setCreate(formData, path('variance', 'baseline'),
  String(parseMoney(get(formData, 'variance', 'current')) - parseMoney(get(formData, path('previousAmounts', 'baseline'))))
);

get(formData,'previousAmounts', 'lastReturn') ?
  setCreate(formData, path('variance', 'lastReturn'),
    String(parseMoney(get(formData, 'variance', 'current')) -
      parseMoney(get(formData, path('previousAmounts', 'lastReturn'))))
  ) :
  setCreate(formData, path('variance', 'lastReturn'), 'N/A');",
                "required": [
                  "anyChange"
                ],
                "properties": {
                  "previousAmounts": {
                    "type": "object",
                    "horizontal": true,
                    "title": "Total Cost",
                    "properties": {
                      "baseline": {
                        "type": "string",
                        "title": "Baseline Amount",
                        "sourceKey": [
                          "baseline_data",
                          "costs",
                          "infrastructure",
                          "totalCostOfInfrastructure"
                        ],
                        "readonly": true,
                        "currency": true
                      },
                      "lastReturn": {
                        "type": "string",
                        "title": "Last Return Amount",
                        "currency": true,
                        "readonly": true
                      }
                    }
                  },
                  "anyChange": {
                    "title": "Any change to baseline/ last return?",
                    "type": "string",
                    "enum": [
                      "Yes",
                      "No"
                    ],
                    "radio": true
                  }
                },
                "dependencies": {
                  "anyChange": {
                    "oneOf": [
                      {
                        "required": [
                          "varianceReason",
                          "areCostsFunded"
                        ],
                        "properties": {
                          "anyChange": {
                            "enum": [
                              "Yes"
                            ]
                          },
                          "variance": {
                            "type": "object",
                            "title": "",
                            "horizontal": true,
                            "required": [
                              "current"
                            ],
                            "properties": {
                              "current": {
                                "type": "string",
                                "title": "Current return",
                                "currency": true
                              },
                              "currentAmount": {
                                "type": "string",
                                "title": "",
                                "hidden": true
                              },
                              "baseline": {
                                "type": "string",
                                "title": "Variance against baseline (£)",
                                "readonly": true
                              },
                              "lastReturn": {
                                "type": "string",
                                "title": "Variance Against Last Return (£)",
                                "readonly": true
                              }
                            }
                          },
                          "varianceReason": {
                            "type": "string",
                            "title": "Reason for variance",
                            "extendedText": true
                          },
                          "areCostsFunded": {
                            "type": "object",
                            "title": "",
                            "properties": {
                              "confirmation": {
                                "type": "string",
                                "title": "If costs have increased, are these funded?",
                                "enum": [
                                  "Yes",
                                  "No",
                                  "N/A"
                                ],
                                "radio": true
                              }
                            },
                            "dependencies": {
                              "confirmation": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "No"
                                        ]
                                      },
                                      "fundingExplanation": {
                                        "title": "How are you intending to fund additional costs?",
                                        "type": "string",
                                        "extendedText": true
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "Yes"
                                        ]
                                      },
                                      "description": {
                                        "title": "Desciption of how increased costs are funded",
                                        "type": "string",
                                        "extendedText": true
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "N/A"
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          }
                        }
                      },
                      {
                        "properties": {
                          "anyChange": {
                            "enum": [
                              "No"
                            ]
                          }
                        }
                      }
                    ]
                  }
                }
              },
              "fundedThroughHIF": {
                "type": "object",
                "calculation": "
                get(formData, 'descriptionOfFundingStack') ? null : set(formData, 'descriptionOfFundingStack', 'N/A');
get(formData, 'anyChange', 'confirmation') === 'Yes' ?
  get(formData, 'fundedThroughHIFbaseline') === 'Yes' ?
    set(formData, 'fundedThroughHIFCurrent', 'No') :
    set(formData, 'fundedThroughHIFCurrent', 'Yes')
    :
  set(formData, 'fundedThroughHIFCurrent', get(formData, 'fundedThroughHIFbaseline'));",
                "title": "",
                "properties": {
                  "fundedThroughHIFbaseline": {
                    "type": "string",
                    "title": "Totally funded through HIF?",
                    "radio": true,
                    "enum": [
                      "Yes",
                      "No"
                    ],
                    "readonly": true,
                    "sourceKey": [
                      "baseline_data",
                      "costs",
                      "infrastructure",
                      "totallyFundedThroughHIF"
                    ]
                  },
                  "fundedThroughHIFCurrent": {
                    "type": "string",
                    "title": "Totally funded through HIF?",
                    "enum": [
                      "Yes",
                      "No"
                    ],
                    "hidden": true,
                    "sourceKey": [
                      "baseline_data",
                      "costs",
                      "infrastructure",
                      "totallyFundedThroughHIF"
                    ]
                  },
                  "anyChange": {
                    "type": "object",
                    "title": "",
                    "properties": {
                      "confirmation": {
                        "type": "string",
                        "title": "Has position changed from baseline/ last return?",
                        "enum": [
                          "Yes",
                          "No"
                        ],
                        "radio": true
                      }
                    },
                    "dependencies": {
                      "confirmation": {
                        "oneOf": [
                          {
                            "properties": {
                              "confirmation": {
                                "enum": [
                                  "Yes"
                                ]
                              },
                              "descriptionOfChange": {
                                "type": "string",
                                "title": "Description of Change",
                                "extendedText": true
                              }
                            }
                          },
                          {
                            "properties": {
                              "confirmation": {
                                "enum": [
                                  "No"
                                ]
                              }
                            }
                          }
                        ]
                      }
                    }
                  }
                },
                "dependencies": {
                  "fundedThroughHIFCurrent": {
                    "oneOf": [
                      {
                        "properties": {
                          "fundedThroughHIFCurrent": {
                            "enum": [
                              "Yes"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "fundedThroughHIFCurrent": {
                            "enum": [
                              "No"
                            ]
                          },
                          "descriptionOfFundingStack": {
                            "type": "string",
                            "title": "Description of funding stack",
                            "readonly": true,
                            "sourceKey": [
                              "baseline_data",
                              "costs",
                              "infrastructure",
                              "descriptionOfFundingStack"
                            ]
                          },
                          "anyChangeToDescription": {
                            "type": "object",
                            "title": "",
                            "properties": {
                              "confirmation": {
                                "title": "Any change to baseline/last return?",
                                "type": "string",
                                "radio": true,
                                "enum": [
                                  "Yes",
                                  "No"
                                ]
                              }
                            },
                            "dependencies": {
                              "confirmation": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "Yes"
                                        ]
                                      },
                                      "updatedFundingStack": {
                                        "type": "string",
                                        "title": "Updated Description Funding Stack",
                                        "extendedText": true
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "No"
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          },
                          "hifSpend": {
                            "title": "",
                            "calculation": "
get(formData, 'anyChangeToBaseline', 'confirmation') === 'Yes' ?
  setCreate(formData, path('anyChangeToBaseline', 'variance', 'currentAmount'), get(formData, 'anyChangeToBaseline', 'variance', 'current')) :
  setCreate(formData, path('anyChangeToBaseline', 'variance', 'currentAmount'), get(formData, 'previousAmounts', 'lastReturn'));

setCreate(formData, path('anyChangeToBaseline', 'variance', 'baseline'),
  String(parseMoney(get(formData,'anyChangeToBaseline', 'variance', 'current'))) -
  parseMoney(get(formData, 'previousAmounts', 'baseline'))
);
get(formData, path('previousAmounts', 'lastReturn')) ?
  setCreate(formData, path('anyChangeToBaseline', 'variance', 'lastReturn'),
    String(parseMoney(get(formData, path('anyChangeToBaseline', 'variance', 'current')))
  ) - parseMoney(get(formData, path('previousAmounts', 'lastReturn')))) :
  setCreate(formData, ['anyChangeToBaseline', 'variance', 'lastReturn'], 'N/A');",
                            "type": "object",
                            "properties": {
                              "previousAmounts": {
                                "type": "object",
                                "title": "HIF Amount",
                                "horizontal": true,
                                "properties": {
                                  "baseline": {
                                    "type": "string",
                                    "title": "HIF Baseline Amount",
                                    "sourceKey": [
                                      "baseline_data",
                                      "costs",
                                      "infrastructure",
                                      "HIFAmount"
                                    ],
                                    "readonly": true,
                                    "currency": true
                                  },
                                  "lastReturn": {
                                    "type": "string",
                                    "title": "Last Return",
                                    "readonly": true,
                                    "currency": true,
                                    "sourceKey": [
                                      "return_data",
                                      "fundingPackages",
                                      "fundingStack",
                                      "hifSpend",
                                      "current"
                                    ]
                                  }
                                }
                              },
                              "anyChangeToBaseline": {
                                "type": "object",
                                "title": "",
                                "properties": {
                                  "confirmation": {
                                    "title": "Any change to baseline/ last return?",
                                    "type": "string",
                                    "enum": [
                                      "Yes",
                                      "No"
                                    ],
                                    "radio": true
                                  }
                                },
                                "dependencies": {
                                  "confirmation": {
                                    "oneOf": [
                                      {
                                        "properties": {
                                          "confirmation": {
                                            "enum": [
                                              "Yes"
                                            ]
                                          },
                                          "variance": {
                                            "type": "object",
                                            "title": "",
                                            "horizontal": true,
                                            "properties": {
                                              "current": {
                                                "type": "string",
                                                "title": "Current return",
                                                "currency": true
                                              },
                                              "currentAmount": {
                                                "type": "string",
                                                "title": "",
                                                "hidden": true
                                              },
                                              "baseline": {
                                                "type": "string",
                                                "title": "Variance against baseline (£)",
                                                "readonly": true
                                              },
                                              "lastReturn": {
                                                "type": "string",
                                                "title": "Variance Against Last Return (£)",
                                                "readonly": true
                                              }
                                            }
                                          },
                                          "varianceReason": {
                                            "type": "string",
                                            "title": "Reason for variance",
                                            "extendedText": true
                                          }
                                        }
                                      },
                                      {
                                        "properties": {
                                          "confirmation": {
                                            "enum": [
                                              "No"
                                            ]
                                          }
                                        }
                                      }
                                    ]
                                  }
                                }
                              }
                            }
                          },
                          "public": {
                            "title": "",
                            "type": "object",
                            "calculation": "
setCreate(formData, path('balancesSecured', 'securedAgainstBaseline'),
  calculateVariance(parseMoney(get(formData, 'balancesSecured', 'amountSecured')),
  parseMoney(get(formData, 'previousAmounts', 'baseline')))
);

(get(formData, 'balancesSecured', 'amountSecuredLastReturn') && get(formData, 'balancesSecured', 'amountSecured')) ?
  setCreate(formData, path('balancesSecured', 'increaseOnLastReturn'),
    '£ ' + (
      ''+parseMoney(get(formData, 'balancesSecured', 'amountSecured')) - parseMoney(get(formData, 'balancesSecured', 'amountSecuredLastReturn'))
    )
  ) :
  setCreate(formData, path('balancesSecured', 'increaseOnLastReturn'), '');

(get(formData, 'balancesSecured', 'securedAgainstBaselineLastReturn') && get(formData, 'balancesSecured', 'amountSecured')) ?
  setCreate(formData, ['balancesSecured', 'increaseOnLastReturnPercent'], ''+get(formData, 'balancesSecured', 'securedAgainstBaseline') - get(formData, 'balancesSecured', 'securedAgainstBaselineLastReturn')) :
  setCreate(formData, ['balancesSecured', 'increaseOnLastReturnPercent'], '');

get(formData, 'anyChangeToBaseline', 'confirmation') === 'Yes' ?
  setCreate(formData, ['anyChangeToBaseline', 'variance', 'currentAmount'], get(formData,'anyChangeToBaseline', 'variance', 'current')) :
  setCreate(formData, ['anyChangeToBaseline','variance', 'currentAmount'], get(formData, 'previousAmounts', 'lastReturn'));

setCreate(formData, ['balancesSecured','remainingToBeSecured'], ''+parseMoney(get(formData, 'previousAmounts', 'baseline')) -parseMoney(get(formData, 'balancesSecured', 'amountSecured')));
setCreate(formData, ['anyChangeToBaseline', 'variance', 'baselineVariance'], ''+parseMoney(get(formData, 'anyChangeToBaseline', 'variance', 'current')) - parseMoney(get(formData, 'previousAmounts', 'baseline')));

get(formData, 'previousAmounts', 'lastReturn') ?
  setCreate(formData, ['anyChangeToBaseline', 'variance', 'lastReturnVariance'], ''+parseMoney(get(formData, 'anyChangeToBaseline', 'variance', 'current')) - parseMoney(get(formData, 'previousAmounts', 'lastReturn'))) :
  setCreate(formData, ['anyChangeToBaseline', 'variance', 'lastReturnVariance'], 'N/A');
",
                            "properties": {
                              "previousAmounts": {
                                "type": "object",
                                "title": "Total Public",
                                "horizontal": true,
                                "properties": {
                                  "baseline": {
                                    "title": "Total baseline Amount",
                                    "type": "string",
                                    "readonly": true,
                                    "currency": true,
                                    "sourceKey": [
                                      "baseline_data",
                                      "costs",
                                      "infrastructure",
                                      "totalPublic"
                                    ]
                                  },
                                  "lastReturn": {
                                    "title": "Total Last Return Amount",
                                    "type": "string",
                                    "readonly": true,
                                    "currency": true
                                  }
                                }
                              },
                              "anyChangeToBaseline": {
                                "title": "",
                                "type": "object",
                                "properties": {
                                  "confirmation": {
                                    "title": "Any Change to Baseline/ Last Return.",
                                    "type": "string",
                                    "enum": [
                                      "Yes",
                                      "No"
                                    ],
                                    "radio": true
                                  }
                                },
                                "dependencies": {
                                  "confirmation": {
                                    "oneOf": [
                                      {
                                        "properties": {
                                          "confirmation": {
                                            "enum": [
                                              "Yes"
                                            ]
                                          },
                                          "variance": {
                                            "type": "object",
                                            "title": "",
                                            "horizontal": true,
                                            "properties": {
                                              "current": {
                                                "title": "Current Return",
                                                "type": "string",
                                                "currency": true
                                              },
                                              "currentAmount": {
                                                "title": "",
                                                "type": "string",
                                                "hidden": true
                                              },
                                              "baselineVariance": {
                                                "title": "Variance Against Baseline",
                                                "type": "string",
                                                "readonly": true
                                              },
                                              "lastReturnVariance": {
                                                "title": "Variance Against Last Return",
                                                "type": "string",
                                                "readonly": true
                                              }
                                            }
                                          },
                                          "reason": {
                                            "title": "Reason for Variance",
                                            "type": "string",
                                            "extendedText": true
                                          }
                                        }
                                      },
                                      {
                                        "properties": {
                                          "confirmation": {
                                            "enum": [
                                              "No"
                                            ]
                                          }
                                        }
                                      }
                                    ]
                                  }
                                }
                              }
                            },
                            "dependencies": {
                              "previousAmounts": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "previousAmounts": {
                                        "properties": {
                                          "baseline": {
                                            "enum": ["0"]
                                          }
                                        }
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "previousAmounts": {
                                        "properties": {
                                          "baseline": {}
                                        }
                                      },
                                      "balancesSecured": {
                                        "type": "object",
                                        "title": "Amount Secured",
                                        "horizontal": true,
                                        "properties": {
                                          "amountSecured": {
                                            "title": "To Date",
                                            "type": "string",
                                            "currency": true
                                          },
                                          "amountSecuredLastReturn": {
                                            "title": "",
                                            "type": "string",
                                            "hidden": true
                                          },
                                          "remainingToBeSecured": {
                                            "title": "Remaining",
                                            "type": "string",
                                            "currency": true,
                                            "readonly": true
                                          },
                                          "securedAgainstBaseline": {
                                            "title": "Against the Baseline",
                                            "type": "string",
                                            "percentage": true,
                                            "readonly": true
                                          },
                                          "securedAgainstBaselineLastReturn": {
                                            "title": "",
                                            "type": "string",
                                            "hidden": true
                                          },
                                          "increaseOnLastReturn": {
                                            "title": "Increase on Last Return",
                                            "type": "string",
                                            "readonly": true
                                          },
                                          "increaseOnLastReturnPercent": {
                                            "title": "% Increase on Last Return",
                                            "type": "string",
                                            "percentage": true,
                                            "readonly": true
                                          }
                                        }
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          },
                          "private": {
                            "title": "",
                            "type": "object",
                            "calculation": "setCreate(formData, ['balancesSecured', 'securedAgainstBaseline'], calculateVariance(parseMoney(get(formData, 'balancesSecured', 'amountSecured')), parseMoney(get(formData, 'previousAmounts', 'baseline')))); (get(formData, 'balancesSecured', 'amountSecuredLastReturn') && get(formData, 'balancesSecured', 'amountSecured'))? setCreate(formData, ['balancesSecured', 'increaseOnLastReturn'], '£ ' +(''+parseMoney(get(formData, 'balancesSecured', 'amountSecured')) - parseMoney(get(formData, 'balancesSecured', 'amountSecuredLastReturn')))) : setCreate(formData, ['balancesSecured', 'increaseOnLastReturn'], '');(get(formData, 'balancesSecured', 'securedAgainstBaselineLastReturn') && get(formData, 'balancesSecured', 'amountSecured')) ? setCreate(formData, ['balancesSecured', 'increaseOnLastReturnPercent'], ''+get(formData, 'balancesSecured', 'securedAgainstBaseline') -get(formData, 'balancesSecured', 'securedAgainstBaselineLastReturn')) : setCreate(formData, ['balancesSecured', 'increaseOnLastReturnPercent'], ''); get(formData, 'anyChangeToBaseline', 'confirmation') === 'Yes' ? setCreate(formData, ['anyChangeToBaseline', 'variance', 'currentAmount'], get(formData,'anyChangeToBaseline', 'variance', 'current')) : setCreate(formData, ['anyChangeToBaseline','variance', 'currentAmount'], get(formData, 'previousAmounts', 'lastReturn')); setCreate(formData, ['balancesSecured','remainingToBeSecured'], ''+parseMoney(get(formData, 'previousAmounts', 'baseline')) -parseMoney(get(formData, 'balancesSecured', 'amountSecured')));setCreate(formData, ['anyChangeToBaseline', 'variance', 'baselineVariance'], ''+parseMoney(get(formData, 'anyChangeToBaseline', 'variance', 'current')) - parseMoney(get(formData, 'previousAmounts', 'baseline'))); get(formData, 'previousAmounts', 'lastReturn') ? setCreate(formData, ['anyChangeToBaseline', 'variance', 'lastReturnVariance'], ''+parseMoney(get(formData, 'anyChangeToBaseline', 'variance', 'current')) - parseMoney(get(formData, 'previousAmounts', 'lastReturn'))) : setCreate(formData, ['anyChangeToBaseline', 'variance', 'lastReturnVariance'], 'N/A');",
                            "properties": {
                              "previousAmounts": {
                                "type": "object",
                                "horizontal": true,
                                "title": "Total Private",
                                "properties": {
                                  "baseline": {
                                    "title": "Total baseline amount",
                                    "type": "string",
                                    "readonly": true,
                                    "currency": true,
                                    "sourceKey": [
                                      "baseline_data",
                                      "costs",
                                      "infrastructure",
                                      "totalPrivate"
                                    ]
                                  },
                                  "lastReturn": {
                                    "title": "Total Last Return Amount",
                                    "type": "string",
                                    "currency": true,
                                    "readonly": true
                                  }
                                }
                              },
                              "anyChangeToBaseline": {
                                "title": "",
                                "type": "object",
                                "properties": {
                                  "confirmation": {
                                    "title": "Any Change to Baseline/ Last Return.",
                                    "type": "string",
                                    "enum": [
                                      "Yes",
                                      "No"
                                    ],
                                    "radio": true
                                  }
                                },
                                "dependencies": {
                                  "confirmation": {
                                    "oneOf": [
                                      {
                                        "properties": {
                                          "confirmation": {
                                            "enum": [
                                              "Yes"
                                            ]
                                          },
                                          "variance": {
                                            "type": "object",
                                            "title": "",
                                            "horizontal": true,
                                            "properties": {
                                              "current": {
                                                "title": "Current Return",
                                                "type": "string",
                                                "currency": true
                                              },
                                              "currentAmount": {
                                                "title": "",
                                                "type": "string",
                                                "hidden": true
                                              },
                                              "baselineVariance": {
                                                "title": "Variance Against Baseline",
                                                "type": "string",
                                                "readonly": true
                                              },
                                              "lastReturnVariance": {
                                                "title": "Variance Against Last Return",
                                                "type": "string",
                                                "readonly": true
                                              }
                                            }
                                          },
                                          "reason": {
                                            "title": "Reason for Variance",
                                            "type": "string",
                                            "extendedText": true
                                          }
                                        }
                                      },
                                      {
                                        "properties": {
                                          "confirmation": {
                                            "enum": [
                                              "No"
                                            ]
                                          }
                                        }
                                      }
                                    ]
                                  }
                                }
                              },
                              "comparisons": {
                                "type": "object",
                                "title": "",
                                "horizontal": true,
                                "properties": {}
                              }
                            },
                            "dependencies": {
                              "previousAmounts": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "previousAmounts": {
                                        "properties": {
                                          "baseline": {
                                            "enum": ["0"]
                                          }
                                        }
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "previousAmounts": {
                                        "properties": {
                                          "baseline": {}
                                        }
                                      },
                                      "balancesSecured": {
                                        "type": "object",
                                        "title": "Amount Secured",
                                        "horizontal": true,
                                        "properties": {
                                          "amountSecured": {
                                            "title": "To date",
                                            "type": "string",
                                            "currency": true
                                          },
                                          "amountSecuredLastReturn": {
                                            "title": "",
                                            "type": "string",
                                            "hidden": true
                                          },
                                          "remainingToBeSecured": {
                                            "title": "Remaining",
                                            "type": "string",
                                            "currency": true,
                                            "readonly": true
                                          },
                                          "securedAgainstBaseline": {
                                            "title": "Against the Baseline",
                                            "type": "string",
                                            "percentage": true,
                                            "readonly": true
                                          },
                                          "securedAgainstBaselineLastReturn": {
                                            "title": "",
                                            "type": "string",
                                            "hidden": true
                                          },
                                          "increaseOnLastReturn": {
                                            "title": "Increase on Last Return",
                                            "type": "string",
                                            "currency": true,
                                            "readonly": true
                                          },
                                          "increaseOnLastReturnPercent": {
                                            "title": "% Increase on Last Return",
                                            "type": "string",
                                            "percentage": true,
                                            "readonly": true
                                          }
                                        }
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          },
                          "riskToFundingPackage": {
                            "type": "object",
                            "title": "Funding Package Risk",
                            "properties": {
                              "risk": {
                                "title": "Are there any risks to the funding package?",
                                "type": "string",
                                "radio": true,
                                "enum": [
                                  "Yes",
                                  "No"
                                ]
                              }
                            },
                            "dependencies": {
                              "risk": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "risk": {
                                        "enum": [
                                          "Yes"
                                        ]
                                      },
                                      "description": {
                                        "title": "Description of risk",
                                        "type": "string"
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "risk": {
                                        "enum": [
                                          "No"
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          }
                        }
                      }
                    ]
                  }
                }
              },
              "hifSpendSinceLastReturn": {
                "title": "",
                "type": "object",
                "calculation": "setCreate(formData, ['hifSpendSinceLastReturnHolder','cumulativeIncCurrentReturn'], ''+sum(formData['hifSpendSinceLastReturnHolder'], 'currentReturn', 'cumulativeExCurrentReturn'));",
                "properties": {
                  "hifSpendSinceLastReturnHolder": {
                    "title": "HIF Spend Since Last Return",
                    "type": "object",
                    "horizontal": true,
                    "properties": {
                      "currentReturn": {
                        "title": "Current Return",
                        "type": "string",
                        "currency": true
                      },
                      "cumulativeIncCurrentReturn": {
                        "title": "Cumulative Including Current Return",
                        "type": "string",
                        "currency": true,
                        "readonly": true
                      },
                      "remaining": {
                        "title": "Remaining",
                        "type": "string",
                        "currency": true,
                        "readonly": true
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "hifRecovery": {
      "title": "HIF Recovery",
      "type": "object",
      "properties": {
        "recovery": {
          "title": "",
          "type": "object",
          "properties": {
            "aimToRecoverFunding": {
              "title": "Aim to recover funding?",
              "radio": true,
              "enum": [
                "Yes",
                "No"
              ],
              "sourceKey": [
                "baseline_data",
                "recovery",
                "aimToRecover"
              ],
              "readonly": true
            }
          },
          "dependencies": {
            "aimToRecoverFunding": {
              "oneOf": [
                {
                  "properties": {
                    "aimToRecoverFunding": {
                      "type": "string",
                      "enum": [
                        "No"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "aimToRecoverFunding": {
                      "type": "string",
                      "enum": [
                        "Yes"
                      ]
                    },
                    "expectedAmountToRecover": {
                      "type": "object",
                      "calculation": "get(formData,'changeToBaseline', 'currentReturn') ? setCreate(formData, ['changeToBaseline', 'currentCopy'], get(formData,'changeToBaseline', 'currentReturn')) : setCreate(formData, ['changeToBaseline', 'currentCopy'], get(formData, 'changeToBaseline', 'lastReturn')); setCreate(formData, ['changeToBaseline','varianceAgainstBaseline'], subtract(get(formData,'changeToBaseline', 'currentReturn'), get(formData, 'baselineAmount'))); get(formData,'changeToBaseline', 'lastReturn') ? setCreate(formData,['changeToBaseline', 'varianceAgainstLastReturn'], subtract(get(formData,'changeToBaseline', 'currentReturn'), get(formData,'changeToBaseline', 'lastReturn'))): setCreate(formData,['changeToBaseline', 'varianceAgainstLastReturn'], 'N/A'); get(formData,'changeToBaseline', 'currentCopy') ? setCreate(formData, ['amountRecovered', 'remaining'], subtract(get(formData, 'changeToBaseline', 'currentCopy'), get(formData, 'amountRecovered', 'cumulative'))) : setCreate(formData, ['amountRecovered', 'remaining'], subtract(get(formData, 'baselineAmount'), get(formData, 'amountRecovered', 'cumulative')));",
                      "title": "Expected Amount to Recover",
                      "properties": {
                        "baselineAmount": {
                          "title": "Baseline Amount",
                          "type": "string",
                          "readonly": true,
                          "currency": true,
                          "sourceKey": [
                            "baseline_data",
                            "recovery",
                            "expectedAmount"
                          ]
                        },
                        "methodOfRecovery": {
                          "title": "Method of Recovery",
                          "type": "string",
                          "readonly": true,
                          "extendedText": true,
                          "sourceKey": [
                            "baseline_data",
                            "recovery",
                            "methodOfRecovery"
                          ]
                        },
                        "changeToBaseline": {
                          "type": "object",
                          "title": "",
                          "required":  ["confirmation"],
                          "properties": {
                            "confirmation": {
                              "title": "Any Change?",
                              "type": "string",
                              "enum": [
                                "Yes",
                                "No"
                              ],
                              "radio": true
                            }
                          },
                          "dependencies": {
                            "confirmation": {
                              "oneOf": [
                                {
                                  "properties": {
                                    "confirmation": {
                                      "enum": [
                                        "No"
                                      ]
                                    }
                                  }
                                },
                                {
                                  "required": ["currentReturn", "reasonForVariance"],
                                  "properties": {
                                    "confirmation": {
                                      "enum": [
                                        "Yes"
                                      ]
                                    },
                                    "currentReturn": {
                                      "title": "Current Return",
                                      "type": "string",
                                      "currency": true
                                    },
                                    "currentCopy": {
                                      "type": "string",
                                      "hidden": true,
                                      "sourceKey": [
                                        "return_data",
                                        "hifRecovery",
                                        "recovery",
                                        "expectedAmountToRecover",
                                        "changeToBaseline",
                                        "currentCopy"
                                      ]
                                    },
                                    "lastReturn": {
                                      "title": "Last Return",
                                      "type": "string",
                                      "currency": true,
                                      "sourceKey": [
                                        "return_data",
                                        "hifRecovery",
                                        "recovery",
                                        "expectedAmountToRecover",
                                        "changeToBaseline",
                                        "currentCopy"
                                      ],
                                      "readonly": true
                                    },
                                    "varianceAgainstBaseline": {
                                      "title": "Variance Against Baseline (£)",
                                      "type": "string",
                                      "readonly": true
                                    },
                                    "varianceAgainstLastReturn": {
                                      "title": "Variance Against Last Return (£)",
                                      "type": "string",
                                      "readonly": true
                                    },
                                    "reasonForVariance": {
                                      "title": "Reason for Variance",
                                      "type": "string",
                                      "extendedText": true
                                    }
                                  }
                                }
                              ]
                            }
                          }
                        },
                        "amountRecovered": {
                          "title": "Amount Recovered",
                          "type": "object",
                          "calculation": "set(formData, 'cumulative', add(get(formData, 'currentReturn'), get(formData, 'previousCumulator')));",
                          "required": ["currentReturn", "useOfRecoveredFunding", "planAttachment"],
                          "properties": {
                            "currentReturn": {
                              "title": "Current Return",
                              "type": "string",
                              "currency": true
                            },
                            "previousCumulator": {
                              "type": "string",
                              "readonly": true,
                              "hidden": true,
                              "sourceKey": [
                                "return_data",
                                "hifRecovery",
                                "recovery",
                                "expectedAmountToRecover",
                                "amountRecovered",
                                "cumulative"
                              ]
                            },
                            "cumulative": {
                              "title": "Cumulative Amount",
                              "type": "string",
                              "currency": true,
                              "readonly": true
                            },
                            "remaining": {
                              "title": "Remaining Amount",
                              "type": "string",
                              "currency": true,
                              "readonly": true
                            },
                            "useOfRecoveredFunding": {
                              "title": "Use of Recovered Funding",
                              "type": "string",
                              "extendedText": true
                            },
                            "planAttachment": {
                              "title": "",
                              "description": "Please attach the evidence here.",
                              "uploadFile": "single",
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      }
    },
    "widerScheme": {
      "type": "array",
      "title": "Wider Scheme",
      "items": {
        "type": "object",
        "title": "",
        "properties": {
          "overview": {
            "type": "object",
            "title": "Overview",
            "required": ["masterplan"],
            "properties": {
              "masterplan": {
                "title": "Masterplan for Scheme",
                "type": "object",
                "properties": {
                  "confirmation": {
                    "title": "Is there a masterplan for the scheme?",
                    "type": "string",
                    "enum": [
                      "Yes",
                      "No"
                    ],
                    "radio": true
                  }
                },
                "dependencies": {
                  "confirmation": {
                    "oneOf": [
                      {
                        "properties": {
                          "confirmation": {
                            "enum": [
                              "Yes"
                            ]
                          },
                          "planAttachment": {
                            "title": "",
                            "description": "Please attach the plan here.",
                            "uploadFile": "single",
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        }
                      },
                      {
                        "properties": {
                          "confirmation": {
                            "enum": [
                              "No"
                            ]
                          }
                        }
                      }
                    ]
                  }
                }
              },
              "developmentPlan": {
                "title": "Development Plan for Wider Scheme",
                "type": "string",
                "extendedText": true
              }
            }
          },
          "keyLiveIssues": {
            "type": "array",
            "title": "Key Live Issues",
            "addable": true,
            "items": {
              "type": "object",
              "title": "Issue",
              "required": ["description", "dates", "mitigationActions", "ratingAfterMitigation"],
              "properties": {
                "description": {
                  "type": "string",
                  "title": "Description of Issue",
                  "extendedText": true
                },
                "dates": {
                  "type": "object",
                  "horizontal": true,
                  "title": "",
                  "required": ["dateRaised", "estimatedCompletionDate"],
                  "properties": {
                    "dateRaised": {
                      "title": "Date raised",
                      "type": "string",
                      "format": "date"
                    },
                    "estimatedCompletionDate": {
                      "title": "Estimated completions date",
                      "type": "string",
                      "format": "date"
                    }
                  }
                },
                "currentdetails": {
                  "type": "object",
                  "horizontal": true,
                  "required": ["impact", "currentStatus", "currentReturnLikelihood"],
                  "properties": {
                    "impact": {
                      "title": "Impact",
                      "type": "string",
                      "enum": [
                        "1",
                        "2",
                        "3",
                        "4",
                        "5"
                      ]
                    },
                    "currentStatus": {
                      "title": "Current status",
                      "type": "string",
                      "enum": [
                        "Red",
                        "Amber",
                        "Green"
                      ]
                    },
                    "currentReturnLikelihood": {
                      "title": "Current return likelihood",
                      "type": "string",
                      "enum": [
                        "1",
                        "2",
                        "3",
                        "4",
                        "5"
                      ]
                    }
                  }
                },
                "mitigationActions": {
                  "title": "Mitigation actions",
                  "type": "string",
                  "extendedText": true
                },
                "ratingAfterMitigation": {
                  "title": "Likelihood after mitigation",
                  "type": "string",
                  "enum": [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5"
                  ]
                }
              }
            }
          },
          "topRisks": {
            "title": "Top Risks to Delivery of Housing",
            "type": "object",
            "properties": {
              "landAssembly": {
                "type": "object",
                "title": "",
                "calculation": "get(formData, 'dates') ? set(formData, 'varianceAmount', weeksPassed(get(formData, 'dates', 'expectedCompletion'), get(formData, 'dates', 'currentReturnCompletionDate'))) : ''",
                "properties": {
                  "riskHolder": {
                    "title": "Land Assembly",
                    "horizontal": true,
                    "type": "object",
                    "properties": {
                      "liveRisk": {
                        "type": "string",
                        "title": "Live Risk?",
                        "enum": [
                          "Yes",
                          "No"
                        ],
                        "radio": true
                      }
                    },
                    "dependencies": {
                      "liveRisk": {
                        "oneOf": [
                          {
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "Yes"
                                ],
                                "radio": true
                              },
                              "description": {
                                "type": "string",
                                "title": "Description Of Risk",
                                "extendedText": true,
                                "readonly": false
                              }
                            }
                          },
                          {
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "No"
                                ],
                                "radio": true
                              }
                            }
                          }
                        ]
                      }
                    }
                  }
                },
                "dependencies": {
                  "riskHolder": {
                    "oneOf": [
                      {
                        "properties": {
                          "riskHolder": {
                            "horizontal": true,
                            "type": "object",
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "Yes"
                                ],
                                "radio": true
                              }
                            }
                          },
                          "dates": {
                            "type": "object",
                            "title": "",
                            "horizontal": true,
                            "properties": {
                              "expectedCompletion": {
                                "type": "string",
                                "title": "Expected Completion Date",
                                "format": "date",
                                "readonly": false
                              },
                              "currentReturnCompletionDate": {
                                "type": "string",
                                "title": "Expected Return Completion Date",
                                "format": "date"
                              }
                            }
                          },
                          "varianceAmount": {
                            "type": "string",
                            "title": "Variance Amount (weeks)",
                            "readonly": true
                          },
                          "varianceReason": {
                            "type": "string",
                            "title": "Variance Reason",
                            "extendedText": true
                          },
                          "ratings": {
                            "type": "object",
                            "horizontal": "true",
                            "title": "",
                            "properties": {
                              "baselineImpact": {
                                "type": "string",
                                "title": "Baseline Impact",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ],
                                "readonly": false
                              },
                              "baselineLikelihood": {
                                "type": "string",
                                "title": "Baseline Likelihood",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ],
                                "readonly": false
                              },
                              "currentReturnLikelihood": {
                                "type": "string",
                                "title": "Current Return Likelihood",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ]
                              }
                            }
                          },
                          "baselineMitigationMeasures": {
                            "type": "string",
                            "title": "Baseline Mitigation Measures",
                            "extendedText": true,
                            "readonly": false
                          },
                          "anyChange": {
                            "type": "object",
                            "title": " ",
                            "properties": {
                              "confirmation": {
                                "title": "Any Change?",
                                "type": "string",
                                "enum": [
                                  "Yes",
                                  "No"
                                ],
                                "radio": true
                              }
                            },
                            "dependencies": {
                              "confirmation": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "Yes"
                                        ]
                                      },
                                      "updatedMeasures": {
                                        "title": "Updated Mitigation Measures",
                                        "type": "string",
                                        "extendedText": true
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "No"
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          },
                          "riskAfterMitigation": {
                            "title": "Risk Rating after Mitigation",
                            "type": "string",
                            "enum": [
                              "1",
                              "2",
                              "3",
                              "4",
                              "5"
                            ]
                          },
                          "riskMet": {
                            "type": "object",
                            "title": " ",
                            "properties": {
                              "confirmation": {
                                "title": "Risk Met?",
                                "type": "string",
                                "enum": [
                                  "Yes",
                                  "No"
                                ],
                                "radio": true
                              }
                            },
                            "dependencies": {
                              "confirmation": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "Yes"
                                        ]
                                      },
                                      "dateMet": {
                                        "title": "Date Risk Met",
                                        "type": "string",
                                        "format": "date"
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "No"
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          }
                        }
                      },
                      {
                        "properties": {
                          "riskHolder": {
                            "horizontal": true,
                            "type": "object",
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "No"
                                ],
                                "radio": true
                              }
                            }
                          }
                        }
                      }
                    ]
                  }
                }
              },
              "procurementInfrastructure": {
                "type": "object",
                "title": "",
                "calculation": "get(formData, 'dates') ? set(formData, 'varianceAmount', weeksPassed(get(formData, 'dates', 'expectedCompletion'), get(formData, 'dates', 'currentReturnCompletionDate'))) : ''",
                "properties": {
                  "riskHolder": {
                    "title": "Procurement - Infrastructure",
                    "horizontal": true,
                    "type": "object",
                    "properties": {
                      "liveRisk": {
                        "type": "string",
                        "title": "Live Risk?",
                        "enum": [
                          "Yes",
                          "No"
                        ],
                        "radio": true
                      }
                    },
                    "dependencies": {
                      "liveRisk": {
                        "oneOf": [
                          {
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "Yes"
                                ],
                                "radio": true
                              },
                              "description": {
                                "type": "string",
                                "title": "Description Of Risk",
                                "extendedText": true,
                                "readonly": false
                              }
                            }
                          },
                          {
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "No"
                                ],
                                "radio": true
                              }
                            }
                          }
                        ]
                      }
                    }
                  }
                },
                "dependencies": {
                  "riskHolder": {
                    "oneOf": [
                      {
                        "properties": {
                          "riskHolder": {
                            "horizontal": true,
                            "type": "object",
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "Yes"
                                ],
                                "radio": true
                              }
                            }
                          },
                          "dates": {
                            "type": "object",
                            "title": "",
                            "horizontal": true,
                            "properties": {
                              "expectedCompletion": {
                                "type": "string",
                                "title": "Expected Completion Date",
                                "format": "date",
                                "readonly": false
                              },
                              "currentReturnCompletionDate": {
                                "type": "string",
                                "title": "Expected Return Completion Date",
                                "format": "date"
                              }
                            }
                          },
                          "varianceAmount": {
                            "type": "string",
                            "title": "Variance Amount (weeks)",
                            "readonly": true
                          },
                          "varianceReason": {
                            "type": "string",
                            "title": "Variance Reason",
                            "extendedText": true
                          },
                          "ratings": {
                            "type": "object",
                            "horizontal": "true",
                            "title": "",
                            "properties": {
                              "baselineImpact": {
                                "type": "string",
                                "title": "Baseline Impact",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ],
                                "readonly": false
                              },
                              "baselineLikelihood": {
                                "type": "string",
                                "title": "Baseline Likelihood",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ],
                                "readonly": false
                              },
                              "currentReturnLikelihood": {
                                "type": "string",
                                "title": "Current Return Likelihood",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ]
                              }
                            }
                          },
                          "baselineMitigationMeasures": {
                            "type": "string",
                            "title": "Baseline Mitigation Measures",
                            "extendedText": true,
                            "readonly": false
                          },
                          "anyChange": {
                            "type": "object",
                            "title": " ",
                            "properties": {
                              "confirmation": {
                                "title": "Any Change?",
                                "type": "string",
                                "enum": [
                                  "Yes",
                                  "No"
                                ],
                                "radio": true
                              }
                            },
                            "dependencies": {
                              "confirmation": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "Yes"
                                        ]
                                      },
                                      "updatedMeasures": {
                                        "title": "Updated Mitigation Measures",
                                        "type": "string",
                                        "extendedText": true
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "No"
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          },
                          "riskAfterMitigation": {
                            "title": "Risk Rating after Mitigation",
                            "type": "string",
                            "enum": [
                              "1",
                              "2",
                              "3",
                              "4",
                              "5"
                            ]
                          },
                          "riskMet": {
                            "type": "object",
                            "title": " ",
                            "properties": {
                              "confirmation": {
                                "title": "Risk Met?",
                                "type": "string",
                                "enum": [
                                  "Yes",
                                  "No"
                                ],
                                "radio": true
                              }
                            },
                            "dependencies": {
                              "confirmation": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "Yes"
                                        ]
                                      },
                                      "dateMet": {
                                        "title": "Date Risk Met",
                                        "type": "string",
                                        "format": "date"
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "No"
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          }
                        }
                      },
                      {
                        "properties": {
                          "riskHolder": {
                            "horizontal": true,
                            "type": "object",
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "No"
                                ],
                                "radio": true
                              }
                            }
                          }
                        }
                      }
                    ]
                  }
                }
              },
              "planningInfrastructure": {
                "type": "object",
                "title": "",
                "calculation": "get(formData, 'dates') ? set(formData, 'varianceAmount', weeksPassed(get(formData, 'dates', 'expectedCompletion'), get(formData, 'dates', 'currentReturnCompletionDate'))) : ''",
                "properties": {
                  "riskHolder": {
                    "title": "Planning- Infrastructure",
                    "horizontal": true,
                    "type": "object",
                    "properties": {
                      "liveRisk": {
                        "type": "string",
                        "title": "Live Risk?",
                        "enum": [
                          "Yes",
                          "No"
                        ],
                        "radio": true
                      }
                    },
                    "dependencies": {
                      "liveRisk": {
                        "oneOf": [
                          {
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "Yes"
                                ],
                                "radio": true
                              },
                              "description": {
                                "type": "string",
                                "title": "Description Of Risk",
                                "extendedText": true,
                                "readonly": false
                              }
                            }
                          },
                          {
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "No"
                                ],
                                "radio": true
                              }
                            }
                          }
                        ]
                      }
                    }
                  }
                },
                "dependencies": {
                  "riskHolder": {
                    "oneOf": [
                      {
                        "properties": {
                          "riskHolder": {
                            "horizontal": true,
                            "type": "object",
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "Yes"
                                ],
                                "radio": true
                              }
                            }
                          },
                          "dates": {
                            "type": "object",
                            "title": "",
                            "horizontal": true,
                            "properties": {
                              "expectedCompletion": {
                                "type": "string",
                                "title": "Expected Completion Date",
                                "format": "date",
                                "readonly": false
                              },
                              "currentReturnCompletionDate": {
                                "type": "string",
                                "title": "Expected Return Completion Date",
                                "format": "date"
                              }
                            }
                          },
                          "varianceAmount": {
                            "type": "string",
                            "title": "Variance Amount (weeks)",
                            "readonly": true
                          },
                          "varianceReason": {
                            "type": "string",
                            "title": "Variance Reason",
                            "extendedText": true
                          },
                          "ratings": {
                            "type": "object",
                            "horizontal": "true",
                            "title": "",
                            "properties": {
                              "baselineImpact": {
                                "type": "string",
                                "title": "Baseline Impact",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ],
                                "readonly": false
                              },
                              "baselineLikelihood": {
                                "type": "string",
                                "title": "Baseline Likelihood",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ],
                                "readonly": false
                              },
                              "currentReturnLikelihood": {
                                "type": "string",
                                "title": "Current Return Likelihood",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ]
                              }
                            }
                          },
                          "baselineMitigationMeasures": {
                            "type": "string",
                            "title": "Baseline Mitigation Measures",
                            "extendedText": true,
                            "readonly": false
                          },
                          "anyChange": {
                            "type": "object",
                            "title": " ",
                            "properties": {
                              "confirmation": {
                                "title": "Any Change?",
                                "type": "string",
                                "enum": [
                                  "Yes",
                                  "No"
                                ],
                                "radio": true
                              }
                            },
                            "dependencies": {
                              "confirmation": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "Yes"
                                        ]
                                      },
                                      "updatedMeasures": {
                                        "title": "Updated Mitigation Measures",
                                        "type": "string",
                                        "extendedText": true
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "No"
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          },
                          "riskAfterMitigation": {
                            "title": "Risk Rating after Mitigation",
                            "type": "string",
                            "enum": [
                              "1",
                              "2",
                              "3",
                              "4",
                              "5"
                            ]
                          },
                          "riskMet": {
                            "type": "object",
                            "title": " ",
                            "properties": {
                              "confirmation": {
                                "title": "Risk Met?",
                                "type": "string",
                                "enum": [
                                  "Yes",
                                  "No"
                                ],
                                "radio": true
                              }
                            },
                            "dependencies": {
                              "confirmation": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "Yes"
                                        ]
                                      },
                                      "dateMet": {
                                        "title": "Date Risk Met",
                                        "type": "string",
                                        "format": "date"
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "No"
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          }
                        }
                      },
                      {
                        "properties": {
                          "riskHolder": {
                            "horizontal": true,
                            "type": "object",
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "No"
                                ],
                                "radio": true
                              }
                            }
                          }
                        }
                      }
                    ]
                  }
                }
              },
              "deliveryInfrastructure": {
                "type": "object",
                "title": "",
                "calculation": "get(formData, 'dates') ? set(formData, 'varianceAmount', weeksPassed(get(formData, 'dates', 'expectedCompletion'), get(formData, 'dates', 'currentReturnCompletionDate'))) : ''",
                "properties": {
                  "riskHolder": {
                    "title": "Delivery - Infrastructure",
                    "horizontal": true,
                    "type": "object",
                    "properties": {
                      "liveRisk": {
                        "type": "string",
                        "title": "Live Risk?",
                        "enum": [
                          "Yes",
                          "No"
                        ],
                        "radio": true
                      }
                    },
                    "dependencies": {
                      "liveRisk": {
                        "oneOf": [
                          {
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "Yes"
                                ],
                                "radio": true
                              },
                              "description": {
                                "type": "string",
                                "title": "Description Of Risk",
                                "extendedText": true,
                                "readonly": false
                              }
                            }
                          },
                          {
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "No"
                                ],
                                "radio": true
                              }
                            }
                          }
                        ]
                      }
                    }
                  }
                },
                "dependencies": {
                  "riskHolder": {
                    "oneOf": [
                      {
                        "properties": {
                          "riskHolder": {
                            "horizontal": true,
                            "type": "object",
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "Yes"
                                ],
                                "radio": true
                              }
                            }
                          },
                          "dates": {
                            "type": "object",
                            "title": "",
                            "horizontal": true,
                            "properties": {
                              "expectedCompletion": {
                                "type": "string",
                                "title": "Expected Completion Date",
                                "format": "date",
                                "readonly": false
                              },
                              "currentReturnCompletionDate": {
                                "type": "string",
                                "title": "Expected Return Completion Date",
                                "format": "date"
                              }
                            }
                          },
                          "varianceAmount": {
                            "type": "string",
                            "title": "Variance Amount (weeks)",
                            "readonly": true
                          },
                          "varianceReason": {
                            "type": "string",
                            "title": "Variance Reason",
                            "extendedText": true
                          },
                          "ratings": {
                            "type": "object",
                            "horizontal": "true",
                            "title": "",
                            "properties": {
                              "baselineImpact": {
                                "type": "string",
                                "title": "Baseline Impact",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ],
                                "readonly": false
                              },
                              "baselineLikelihood": {
                                "type": "string",
                                "title": "Baseline Likelihood",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ],
                                "readonly": false
                              },
                              "currentReturnLikelihood": {
                                "type": "string",
                                "title": "Current Return Likelihood",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ]
                              }
                            }
                          },
                          "baselineMitigationMeasures": {
                            "type": "string",
                            "title": "Baseline Mitigation Measures",
                            "extendedText": true,
                            "readonly": false
                          },
                          "anyChange": {
                            "type": "object",
                            "title": " ",
                            "properties": {
                              "confirmation": {
                                "title": "Any Change?",
                                "type": "string",
                                "enum": [
                                  "Yes",
                                  "No"
                                ],
                                "radio": true
                              }
                            },
                            "dependencies": {
                              "confirmation": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "Yes"
                                        ]
                                      },
                                      "updatedMeasures": {
                                        "title": "Updated Mitigation Measures",
                                        "type": "string",
                                        "extendedText": true
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "No"
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          },
                          "riskAfterMitigation": {
                            "title": "Risk Rating after Mitigation",
                            "type": "string",
                            "enum": [
                              "1",
                              "2",
                              "3",
                              "4",
                              "5"
                            ]
                          },
                          "riskMet": {
                            "type": "object",
                            "title": " ",
                            "properties": {
                              "confirmation": {
                                "title": "Risk Met?",
                                "type": "string",
                                "enum": [
                                  "Yes",
                                  "No"
                                ],
                                "radio": true
                              }
                            },
                            "dependencies": {
                              "confirmation": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "Yes"
                                        ]
                                      },
                                      "dateMet": {
                                        "title": "Date Risk Met",
                                        "type": "string",
                                        "format": "date"
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "No"
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          }
                        }
                      },
                      {
                        "properties": {
                          "riskHolder": {
                            "horizontal": true,
                            "type": "object",
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "No"
                                ],
                                "radio": true
                              }
                            }
                          }
                        }
                      }
                    ]
                  }
                }
              },
              "procurementHousing": {
                "type": "object",
                "title": "",
                "calculation": "get(formData, 'dates') ? set(formData, 'varianceAmount', weeksPassed(get(formData, 'dates', 'expectedCompletion'), get(formData, 'dates', 'currentReturnCompletionDate'))) : ''",
                "properties": {
                  "riskHolder": {
                    "title": "Procurement- Housing",
                    "horizontal": true,
                    "type": "object",
                    "properties": {
                      "liveRisk": {
                        "type": "string",
                        "title": "Live Risk?",
                        "enum": [
                          "Yes",
                          "No"
                        ],
                        "radio": true
                      }
                    },
                    "dependencies": {
                      "liveRisk": {
                        "oneOf": [
                          {
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "Yes"
                                ],
                                "radio": true
                              },
                              "description": {
                                "type": "string",
                                "title": "Description Of Risk",
                                "extendedText": true,
                                "readonly": false
                              }
                            }
                          },
                          {
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "No"
                                ],
                                "radio": true
                              }
                            }
                          }
                        ]
                      }
                    }
                  }
                },
                "dependencies": {
                  "riskHolder": {
                    "oneOf": [
                      {
                        "properties": {
                          "riskHolder": {
                            "horizontal": true,
                            "type": "object",
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "Yes"
                                ],
                                "radio": true
                              }
                            }
                          },
                          "dates": {
                            "type": "object",
                            "title": "",
                            "horizontal": true,
                            "properties": {
                              "expectedCompletion": {
                                "type": "string",
                                "title": "Expected Completion Date",
                                "format": "date",
                                "readonly": false
                              },
                              "currentReturnCompletionDate": {
                                "type": "string",
                                "title": "Expected Return Completion Date",
                                "format": "date"
                              }
                            }
                          },
                          "varianceAmount": {
                            "type": "string",
                            "title": "Variance Amount (weeks)",
                            "readonly": true
                          },
                          "varianceReason": {
                            "type": "string",
                            "title": "Variance Reason",
                            "extendedText": true
                          },
                          "ratings": {
                            "type": "object",
                            "horizontal": "true",
                            "title": "",
                            "properties": {
                              "baselineImpact": {
                                "type": "string",
                                "title": "Baseline Impact",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ],
                                "readonly": false
                              },
                              "baselineLikelihood": {
                                "type": "string",
                                "title": "Baseline Likelihood",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ],
                                "readonly": false
                              },
                              "currentReturnLikelihood": {
                                "type": "string",
                                "title": "Current Return Likelihood",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ]
                              }
                            }
                          },
                          "baselineMitigationMeasures": {
                            "type": "string",
                            "title": "Baseline Mitigation Measures",
                            "extendedText": true,
                            "readonly": false
                          },
                          "anyChange": {
                            "type": "object",
                            "title": " ",
                            "properties": {
                              "confirmation": {
                                "title": "Any Change?",
                                "type": "string",
                                "enum": [
                                  "Yes",
                                  "No"
                                ],
                                "radio": true
                              }
                            },
                            "dependencies": {
                              "confirmation": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "Yes"
                                        ]
                                      },
                                      "updatedMeasures": {
                                        "title": "Updated Mitigation Measures",
                                        "type": "string",
                                        "extendedText": true
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "No"
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          },
                          "riskAfterMitigation": {
                            "title": "Risk Rating after Mitigation",
                            "type": "string",
                            "enum": [
                              "1",
                              "2",
                              "3",
                              "4",
                              "5"
                            ]
                          },
                          "riskMet": {
                            "type": "object",
                            "title": " ",
                            "properties": {
                              "confirmation": {
                                "title": "Risk Met?",
                                "type": "string",
                                "enum": [
                                  "Yes",
                                  "No"
                                ],
                                "radio": true
                              }
                            },
                            "dependencies": {
                              "confirmation": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "Yes"
                                        ]
                                      },
                                      "dateMet": {
                                        "title": "Date Risk Met",
                                        "type": "string",
                                        "format": "date"
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "No"
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          }
                        }
                      },
                      {
                        "properties": {
                          "riskHolder": {
                            "horizontal": true,
                            "type": "object",
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "No"
                                ],
                                "radio": true
                              }
                            }
                          }
                        }
                      }
                    ]
                  }
                }
              },
              "planningHousing": {
                "type": "object",
                "title": "",
                "calculation": "get(formData, 'dates') ? set(formData, 'varianceAmount', weeksPassed(get(formData, 'dates', 'expectedCompletion'), get(formData, 'dates', 'currentReturnCompletionDate'))) : ''",
                "properties": {
                  "riskHolder": {
                    "title": "Planning - Housing",
                    "horizontal": true,
                    "type": "object",
                    "properties": {
                      "liveRisk": {
                        "type": "string",
                        "title": "Live Risk?",
                        "enum": [
                          "Yes",
                          "No"
                        ],
                        "radio": true
                      }
                    },
                    "dependencies": {
                      "liveRisk": {
                        "oneOf": [
                          {
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "Yes"
                                ],
                                "radio": true
                              },
                              "description": {
                                "type": "string",
                                "title": "Description Of Risk",
                                "extendedText": true,
                                "readonly": false
                              }
                            }
                          },
                          {
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "No"
                                ],
                                "radio": true
                              }
                            }
                          }
                        ]
                      }
                    }
                  }
                },
                "dependencies": {
                  "riskHolder": {
                    "oneOf": [
                      {
                        "properties": {
                          "riskHolder": {
                            "horizontal": true,
                            "type": "object",
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "Yes"
                                ],
                                "radio": true
                              }
                            }
                          },
                          "dates": {
                            "type": "object",
                            "title": "",
                            "horizontal": true,
                            "properties": {
                              "expectedCompletion": {
                                "type": "string",
                                "title": "Expected Completion Date",
                                "format": "date",
                                "readonly": false
                              },
                              "currentReturnCompletionDate": {
                                "type": "string",
                                "title": "Expected Return Completion Date",
                                "format": "date"
                              }
                            }
                          },
                          "varianceAmount": {
                            "type": "string",
                            "title": "Variance Amount (weeks)",
                            "readonly": true
                          },
                          "varianceReason": {
                            "type": "string",
                            "title": "Variance Reason",
                            "extendedText": true
                          },
                          "ratings": {
                            "type": "object",
                            "horizontal": "true",
                            "title": "",
                            "properties": {
                              "baselineImpact": {
                                "type": "string",
                                "title": "Baseline Impact",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ],
                                "readonly": false
                              },
                              "baselineLikelihood": {
                                "type": "string",
                                "title": "Baseline Likelihood",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ],
                                "readonly": false
                              },
                              "currentReturnLikelihood": {
                                "type": "string",
                                "title": "Current Return Likelihood",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ]
                              }
                            }
                          },
                          "baselineMitigationMeasures": {
                            "type": "string",
                            "title": "Baseline Mitigation Measures",
                            "extendedText": true,
                            "readonly": false
                          },
                          "anyChange": {
                            "type": "object",
                            "title": " ",
                            "properties": {
                              "confirmation": {
                                "title": "Any Change?",
                                "type": "string",
                                "enum": [
                                  "Yes",
                                  "No"
                                ],
                                "radio": true
                              }
                            },
                            "dependencies": {
                              "confirmation": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "Yes"
                                        ]
                                      },
                                      "updatedMeasures": {
                                        "title": "Updated Mitigation Measures",
                                        "type": "string",
                                        "extendedText": true
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "No"
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          },
                          "riskAfterMitigation": {
                            "title": "Risk Rating after Mitigation",
                            "type": "string",
                            "enum": [
                              "1",
                              "2",
                              "3",
                              "4",
                              "5"
                            ]
                          },
                          "riskMet": {
                            "type": "object",
                            "title": " ",
                            "properties": {
                              "confirmation": {
                                "title": "Risk Met?",
                                "type": "string",
                                "enum": [
                                  "Yes",
                                  "No"
                                ],
                                "radio": true
                              }
                            },
                            "dependencies": {
                              "confirmation": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "Yes"
                                        ]
                                      },
                                      "dateMet": {
                                        "title": "Date Risk Met",
                                        "type": "string",
                                        "format": "date"
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "No"
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          }
                        }
                      },
                      {
                        "properties": {
                          "riskHolder": {
                            "horizontal": true,
                            "type": "object",
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "No"
                                ],
                                "radio": true
                              }
                            }
                          }
                        }
                      }
                    ]
                  }
                }
              },
              "delivery": {
                "type": "object",
                "title": "",
                "calculation": "get(formData, 'dates') ? set(formData, 'varianceAmount', weeksPassed(get(formData, 'dates', 'expectedCompletion'), get(formData, 'dates', 'currentReturnCompletionDate'))) : ''",
                "properties": {
                  "riskHolder": {
                    "title": "Delivery- Housing",
                    "horizontal": true,
                    "type": "object",
                    "properties": {
                      "liveRisk": {
                        "type": "string",
                        "title": "Live Risk?",
                        "enum": [
                          "Yes",
                          "No"
                        ],
                        "radio": true
                      }
                    },
                    "dependencies": {
                      "liveRisk": {
                        "oneOf": [
                          {
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "Yes"
                                ],
                                "radio": true
                              },
                              "description": {
                                "type": "string",
                                "title": "Description Of Risk",
                                "extendedText": true,
                                "readonly": false
                              }
                            }
                          },
                          {
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "No"
                                ],
                                "radio": true
                              }
                            }
                          }
                        ]
                      }
                    }
                  }
                },
                "dependencies": {
                  "riskHolder": {
                    "oneOf": [
                      {
                        "properties": {
                          "riskHolder": {
                            "horizontal": true,
                            "type": "object",
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "Yes"
                                ],
                                "radio": true
                              }
                            }
                          },
                          "dates": {
                            "type": "object",
                            "title": "",
                            "horizontal": true,
                            "properties": {
                              "expectedCompletion": {
                                "type": "string",
                                "title": "Expected Completion Date",
                                "format": "date",
                                "readonly": false
                              },
                              "currentReturnCompletionDate": {
                                "type": "string",
                                "title": "Expected Return Completion Date",
                                "format": "date"
                              }
                            }
                          },
                          "varianceAmount": {
                            "type": "string",
                            "title": "Variance Amount (weeks)",
                            "readonly": true
                          },
                          "varianceReason": {
                            "type": "string",
                            "title": "Variance Reason",
                            "extendedText": true
                          },
                          "ratings": {
                            "type": "object",
                            "horizontal": "true",
                            "title": "",
                            "properties": {
                              "baselineImpact": {
                                "type": "string",
                                "title": "Baseline Impact",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ],
                                "readonly": false
                              },
                              "baselineLikelihood": {
                                "type": "string",
                                "title": "Baseline Likelihood",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ],
                                "readonly": false
                              },
                              "currentReturnLikelihood": {
                                "type": "string",
                                "title": "Current Return Likelihood",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ]
                              }
                            }
                          },
                          "baselineMitigationMeasures": {
                            "type": "string",
                            "title": "Baseline Mitigation Measures",
                            "extendedText": true,
                            "readonly": false
                          },
                          "anyChange": {
                            "type": "object",
                            "title": " ",
                            "properties": {
                              "confirmation": {
                                "title": "Any Change?",
                                "type": "string",
                                "enum": [
                                  "Yes",
                                  "No"
                                ],
                                "radio": true
                              }
                            },
                            "dependencies": {
                              "confirmation": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "Yes"
                                        ]
                                      },
                                      "updatedMeasures": {
                                        "title": "Updated Mitigation Measures",
                                        "type": "string",
                                        "extendedText": true
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "No"
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          },
                          "riskAfterMitigation": {
                            "title": "Risk Rating after Mitigation",
                            "type": "string",
                            "enum": [
                              "1",
                              "2",
                              "3",
                              "4",
                              "5"
                            ]
                          },
                          "riskMet": {
                            "type": "object",
                            "title": " ",
                            "properties": {
                              "confirmation": {
                                "title": "Risk Met?",
                                "type": "string",
                                "enum": [
                                  "Yes",
                                  "No"
                                ],
                                "radio": true
                              }
                            },
                            "dependencies": {
                              "confirmation": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "Yes"
                                        ]
                                      },
                                      "dateMet": {
                                        "title": "Date Risk Met",
                                        "type": "string",
                                        "format": "date"
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "No"
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          }
                        }
                      },
                      {
                        "properties": {
                          "riskHolder": {
                            "horizontal": true,
                            "type": "object",
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "No"
                                ],
                                "radio": true
                              }
                            }
                          }
                        }
                      }
                    ]
                  }
                }
              },
              "fundingPackage": {
                "type": "object",
                "title": "",
                "calculation": "get(formData, 'dates') ? set(formData, 'varianceAmount', weeksPassed(get(formData, 'dates', 'expectedCompletion'), get(formData, 'dates', 'currentReturnCompletionDate'))) : ''",
                "properties": {
                  "riskHolder": {
                    "title": "Funding Package",
                    "horizontal": true,
                    "type": "object",
                    "properties": {
                      "liveRisk": {
                        "type": "string",
                        "title": "Live Risk?",
                        "enum": [
                          "Yes",
                          "No"
                        ],
                        "radio": true
                      }
                    },
                    "dependencies": {
                      "liveRisk": {
                        "oneOf": [
                          {
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "Yes"
                                ],
                                "radio": true
                              },
                              "description": {
                                "type": "string",
                                "title": "Description Of Risk",
                                "extendedText": true,
                                "readonly": false
                              }
                            }
                          },
                          {
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "No"
                                ],
                                "radio": true
                              }
                            }
                          }
                        ]
                      }
                    }
                  }
                },
                "dependencies": {
                  "riskHolder": {
                    "oneOf": [
                      {
                        "properties": {
                          "riskHolder": {
                            "horizontal": true,
                            "type": "object",
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "Yes"
                                ],
                                "radio": true
                              }
                            }
                          },
                          "dates": {
                            "type": "object",
                            "title": "",
                            "horizontal": true,
                            "properties": {
                              "expectedCompletion": {
                                "type": "string",
                                "title": "Expected Completion Date",
                                "format": "date",
                                "readonly": false
                              },
                              "currentReturnCompletionDate": {
                                "type": "string",
                                "title": "Expected Return Completion Date",
                                "format": "date"
                              }
                            }
                          },
                          "varianceAmount": {
                            "type": "string",
                            "title": "Variance Amount (weeks)",
                            "readonly": true
                          },
                          "varianceReason": {
                            "type": "string",
                            "title": "Variance Reason",
                            "extendedText": true
                          },
                          "ratings": {
                            "type": "object",
                            "horizontal": "true",
                            "title": "",
                            "properties": {
                              "baselineImpact": {
                                "type": "string",
                                "title": "Baseline Impact",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ],
                                "readonly": false
                              },
                              "baselineLikelihood": {
                                "type": "string",
                                "title": "Baseline Likelihood",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ],
                                "readonly": false
                              },
                              "currentReturnLikelihood": {
                                "type": "string",
                                "title": "Current Return Likelihood",
                                "enum": [
                                  "1",
                                  "2",
                                  "3",
                                  "4",
                                  "5"
                                ]
                              }
                            }
                          },
                          "baselineMitigationMeasures": {
                            "type": "string",
                            "title": "Baseline Mitigation Measures",
                            "extendedText": true,
                            "readonly": false
                          },
                          "anyChange": {
                            "type": "object",
                            "title": " ",
                            "properties": {
                              "confirmation": {
                                "title": "Any Change?",
                                "type": "string",
                                "enum": [
                                  "Yes",
                                  "No"
                                ],
                                "radio": true
                              }
                            },
                            "dependencies": {
                              "confirmation": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "Yes"
                                        ]
                                      },
                                      "updatedMeasures": {
                                        "title": "Updated Mitigation Measures",
                                        "type": "string",
                                        "extendedText": true
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "No"
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          },
                          "riskAfterMitigation": {
                            "title": "Risk Rating after Mitigation",
                            "type": "string",
                            "enum": [
                              "1",
                              "2",
                              "3",
                              "4",
                              "5"
                            ]
                          },
                          "riskMet": {
                            "type": "object",
                            "title": " ",
                            "properties": {
                              "confirmation": {
                                "title": "Risk Met?",
                                "type": "string",
                                "enum": [
                                  "Yes",
                                  "No"
                                ],
                                "radio": true
                              }
                            },
                            "dependencies": {
                              "confirmation": {
                                "oneOf": [
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "Yes"
                                        ]
                                      },
                                      "dateMet": {
                                        "title": "Date Risk Met",
                                        "type": "string",
                                        "format": "date"
                                      }
                                    }
                                  },
                                  {
                                    "properties": {
                                      "confirmation": {
                                        "enum": [
                                          "No"
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          }
                        }
                      },
                      {
                        "properties": {
                          "riskHolder": {
                            "horizontal": true,
                            "type": "object",
                            "properties": {
                              "liveRisk": {
                                "type": "string",
                                "title": "Live Risk?",
                                "enum": [
                                  "No"
                                ],
                                "radio": true
                              }
                            }
                          }
                        }
                      }
                    ]
                  }
                }
              },
              "additionalRisks": {
                "title": "Any Additional Risks?",
                "description": "Click on the plus button to add additional risks.",
                "type": "array",
                "addable": true,
                "items": {
                  "type": "object",
                  "title": "",
                  "calculation": "get(formData, 'dates') ? set(formData, 'varianceAmount', weeksPassed(get(formData, 'dates', 'expectedCompletion'), get(formData, 'dates', 'currentReturnCompletionDate'))) : ''",
                  "required": ["riskHolder"],
                  "properties": {
                    "riskHolder": {
                      "title": "Risk",
                      "horizontal": true,
                      "type": "object",
                      "required": ["liveRisk"],
                      "properties": {
                        "liveRisk": {
                          "type": "string",
                          "title": "Live Risk?",
                          "enum": [
                            "Yes",
                            "No"
                          ],
                          "radio": true
                        }
                      },
                      "dependencies": {
                        "liveRisk": {
                          "oneOf": [
                            {
                              "required": ["liveRisk", "description"],
                              "properties": {
                                "liveRisk": {
                                  "type": "string",
                                  "title": "Live Risk?",
                                  "enum": [
                                    "Yes"
                                  ],
                                  "radio": true
                                },
                                "description": {
                                  "type": "string",
                                  "title": "Description Of Risk",
                                  "extendedText": true,
                                  "readonly": false
                                }
                              }
                            },
                            {
                              "required": ["liveRisk"],
                              "properties": {
                                "liveRisk": {
                                  "type": "string",
                                  "title": "Live Risk?",
                                  "enum": [
                                    "No"
                                  ],
                                  "radio": true
                                }
                              }
                            }
                          ]
                        }
                      }
                    }
                  },
                  "dependencies": {
                    "riskHolder": {
                      "oneOf": [
                        {
                          "required": [
                            "riskHolder",
                            "dates",
                            "varianceAmount",
                            "varianceReason",
                            "ratings",
                            "baselineMitigationMeasures",
                            "anyChange",
                            "riskAfterMitigation",
                            "riskMet"
                          ],
                          "properties": {
                            "riskHolder": {
                              "horizontal": true,
                              "type": "object",
                              "required": ["liveRisk"],
                              "properties": {
                                "liveRisk": {
                                  "type": "string",
                                  "title": "Live Risk?",
                                  "enum": [
                                    "Yes"
                                  ],
                                  "radio": true
                                }
                              }
                            },
                            "dates": {
                              "type": "object",
                              "title": "",
                              "horizontal": true,
                              "required": [
                                "expectedCompletion",
                                "currentReturnCompletionDate"
                              ],
                              "properties": {
                                "expectedCompletion": {
                                  "type": "string",
                                  "title": "Expected Completion Date",
                                  "format": "date",
                                  "readonly": false
                                },
                                "currentReturnCompletionDate": {
                                  "type": "string",
                                  "title": "Expected Return Completion Date",
                                  "format": "date"
                                }
                              }
                            },
                            "varianceAmount": {
                              "type": "string",
                              "title": "Variance Amount (weeks)",
                              "readonly": true
                            },
                            "varianceReason": {
                              "type": "string",
                              "title": "Variance Reason",
                              "extendedText": true
                            },
                            "ratings": {
                              "type": "object",
                              "horizontal": "true",
                              "title": "",
                              "required": [
                                "baselineImpact",
                                "baselineLikelihood",
                                "currentReturnLikelihood"
                              ],
                              "properties": {
                                "baselineImpact": {
                                  "type": "string",
                                  "title": "Baseline Impact",
                                  "enum": [
                                    "1",
                                    "2",
                                    "3",
                                    "4",
                                    "5"
                                  ],
                                  "readonly": false
                                },
                                "baselineLikelihood": {
                                  "type": "string",
                                  "title": "Baseline Likelihood",
                                  "enum": [
                                    "1",
                                    "2",
                                    "3",
                                    "4",
                                    "5"
                                  ],
                                  "readonly": false
                                },
                                "currentReturnLikelihood": {
                                  "type": "string",
                                  "title": "Current Return Likelihood",
                                  "enum": [
                                    "1",
                                    "2",
                                    "3",
                                    "4",
                                    "5"
                                  ]
                                }
                              }
                            },
                            "baselineMitigationMeasures": {
                              "type": "string",
                              "title": "Baseline Mitigation Measures",
                              "extendedText": true,
                              "readonly": false
                            },
                            "anyChange": {
                              "type": "object",
                              "title": " ",
                              "required": ["confirmation"],
                              "properties": {
                                "confirmation": {
                                  "title": "Any Change?",
                                  "type": "string",
                                  "enum": [
                                    "Yes",
                                    "No"
                                  ],
                                  "radio": true
                                }
                              },
                              "dependencies": {
                                "confirmation": {
                                  "oneOf": [
                                    {
                                      "required": ["confirmation", "updatedMeasures"],
                                      "properties": {
                                        "confirmation": {
                                          "enum": [
                                            "Yes"
                                          ]
                                        },
                                        "updatedMeasures": {
                                          "title": "Updated Mitigation Measures",
                                          "type": "string",
                                          "extendedText": true
                                        }
                                      }
                                    },
                                    {
                                      "required": ["confirmation"],
                                      "properties": {
                                        "confirmation": {
                                          "enum": [
                                            "No"
                                          ]
                                        }
                                      }
                                    }
                                  ]
                                }
                              }
                            },
                            "riskAfterMitigation": {
                              "title": "Risk Rating after Mitigation",
                              "type": "string",
                              "enum": [
                                "1",
                                "2",
                                "3",
                                "4",
                                "5"
                              ]
                            },
                            "riskMet": {
                              "type": "object",
                              "title": " ",
                              "required": ["confirmation"],
                              "properties": {
                                "confirmation": {
                                  "title": "Risk Met?",
                                  "type": "string",
                                  "enum": [
                                    "Yes",
                                    "No"
                                  ],
                                  "radio": true
                                }
                              },
                              "dependencies": {
                                "confirmation": {
                                  "oneOf": [
                                    {
                                      "required": ["confirmation", "dateMet"],
                                      "properties": {
                                        "confirmation": {
                                          "enum": [
                                            "Yes"
                                          ]
                                        },
                                        "dateMet": {
                                          "title": "Date Risk Met",
                                          "type": "string",
                                          "format": "date"
                                        }
                                      }
                                    },
                                    {
                                      "properties": {
                                        "confirmation": {
                                          "enum": [
                                            "No"
                                          ]
                                        }
                                      }
                                    }
                                  ]
                                }
                              }
                            }
                          }
                        },
                        {
                          "required": ["riskHolder"],
                          "properties": {
                            "riskHolder": {
                              "horizontal": true,
                              "type": "object",
                              "required": ["riskHolder"],
                              "properties": {
                                "liveRisk": {
                                  "type": "string",
                                  "title": "Live Risk?",
                                  "enum": [
                                    "No"
                                  ],
                                  "radio": true
                                }
                              }
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              },
              "progressLastQuarter": {
                "title": "Describe progress for last quarter",
                "type": "string",
                "extendedText": true
              },
              "actionsLastQuarter": {
                "title": "Describe actions for next quarter",
                "type": "string",
                "extendedText": true
              },
              "riskRegister": {
                "title": "Current risk register for scheme.",
                "description": "Please attach here.",
                "uploadFile": "single",
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "s151Confirmation": {
      "title": "s151 Confirmation",
      "type": "object",
      "properties": {
        "hifFunding": {
          "type": "object",
          "title": "HIF Funding and Profiles",
          "required": [
            "cashflowConfirmation"
          ],
          "properties": {
            "changesToRequest": {
              "title": "",
              "type": "object",
              "calculation": "setCreate(formData, ['variance'], '' + parseMoney(get(formData, 'requestedAmount')) - parseMoney(get(formData, 'hifTotalFundingRequest'))); setCreate(formData, ['varianceFromBaselinePercent'], ''+percentageDifference(parseMoney(get(formData, 'hifTotalFundingRequest')), parseMoney(get(formData, 'requestedAmount'))))",
              "required": ["changesToRequestConfirmation"],
              "properties": {
                "hifTotalFundingRequest": {
                  "type": "string",
                  "title": "HIF Total Funding Request",
                  "sourceKey": [
                    "baseline_data",
                    "summary",
                    "hifFundingAmount"
                  ],
                  "readonly": true,
                  "currency": true
                },
                "changesToRequestConfirmation": {
                  "type": "string",
                  "title": "Please confirm there are no changes to the total HIF request",
                  "description": "Any change to funding amount will need to be agreed at an MHCLG/Homes England board and cannot be guaranteed",
                  "radio": true,
                  "s151WriteOnly": true,
                  "enum": [
                    "Confirmed",
                    "Changes Required"
                  ]
                }
              },
              "dependencies": {
                "changesToRequestConfirmation": {
                  "oneOf": [
                    {
                      "properties": {
                        "changesToRequestConfirmation": {
                          "enum": [
                            "Confirmed"
                          ]
                        }
                      }
                    },
                    {
                      "required":  [
                        "reasonForRequest",
                        "requestedAmount",
                        "evidenceOfVariance",
                        "mitigationInPlace"
                      ],
                      "properties": {
                        "changesToRequestConfirmation": {
                          "enum": [
                            "Changes Required"
                          ]
                        },
                        "reasonForRequest": {
                          "type": "string",
                          "title": "Reason for Request",
                          "s151WriteOnly": true
                        },
                        "requestedAmount": {
                          "type": "string",
                          "title": "Requested amount",
                          "currency": true,
                          "s151WriteOnly": true
                        },
                        "variance": {
                          "type": "string",
                          "title": "Variance from Baseline",
                          "currency": true,
                          "readonly": true
                        },
                        "varianceFromBaselinePercent": {
                          "type": "string",
                          "title": "Percentage Variance from Baseline",
                          "percentage": true,
                          "readonly": true
                        },
                        "evidenceOfVariance": {
                          "type": "array",
                          "title": "Evidence of Variance",
                          "description": "Please attach any evidence here.",
                          "uploadFile": "multiple",
                          "items": {
                            "type": "string"
                          }
                        },
                        "mitigationInPlace": {
                          "type": "string",
                          "s151WriteOnly": true,
                          "title": "Mitigation in place to reduce further slippage"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "hifFundingProfile": {
              "title": "Funding Profiles",
              "type": "array",
              "items": {
                "type": "object",
                "horizontal": true,
                "properties": {
                  "period": {
                    "type": "string",
                    "title": "Period",
                    "readonly": true,
                    "sourceKey": [
                      "baseline_data",
                      "fundingProfiles",
                      "period"
                    ]
                  },
                  "instalment1": {
                    "type": "string",
                    "title": "1st Instalment",
                    "readonly": true,
                    "currency": true,
                    "sourceKey": [
                      "baseline_data",
                      "fundingProfiles",
                      "instalment1"
                    ]
                  },
                  "instalment2": {
                    "type": "string",
                    "title": "2nd Instalment",
                    "readonly": true,
                    "currency": true,
                    "sourceKey": [
                      "baseline_data",
                      "fundingProfiles",
                      "instalment2"
                    ]
                  },
                  "instalment3": {
                    "type": "string",
                    "title": "3rd Instalment",
                    "readonly": true,
                    "currency": true,
                    "sourceKey": [
                      "baseline_data",
                      "fundingProfiles",
                      "instalment3"
                    ]
                  },
                  "instalment4": {
                    "type": "string",
                    "title": "4th Instalment",
                    "readonly": true,
                    "currency": true,
                    "sourceKey": [
                      "baseline_data",
                      "fundingProfiles",
                      "instalment4"
                    ]
                  },
                  "total": {
                    "type": "string",
                    "title": "Total",
                    "readonly": true,
                    "currency": true,
                    "sourceKey": [
                      "baseline_data",
                      "fundingProfiles",
                      "total"
                    ]
                  },
                  "baselineVariance1": {
                    "type": "string",
                    "title": "1st Instalment",
                    "readonly": true,
                    "currency": true,
                    "hidden": true
                  },
                  "baselineVariance2": {
                    "type": "string",
                    "title": "2nd Instalment",
                    "readonly": true,
                    "hidden": true,
                    "currency": true
                  },
                  "baselineVariance3": {
                    "type": "string",
                    "title": "3rd Instalment",
                    "readonly": true,
                    "hidden": true,
                    "currency": true
                  },
                  "baselineVariance4": {
                    "type": "string",
                    "title": "4th Instalment",
                    "readonly": true,
                    "hidden": true,
                    "currency": true
                  },
                  "lastMovement1": {
                    "type": "string",
                    "title": "1st Instalment",
                    "readonly": true,
                    "hidden": true,
                    "currency": true
                  },
                  "lastMovement2": {
                    "type": "string",
                    "title": "2nd Instalment",
                    "readonly": true,
                    "hidden": true,
                    "currency": true
                  },
                  "lastMovement3": {
                    "type": "string",
                    "title": "3rd Instalment",
                    "readonly": true,
                    "hidden": true,
                    "currency": true
                  },
                  "lastMovement4": {
                    "type": "string",
                    "title": "4th Instalment",
                    "readonly": true,
                    "hidden": true,
                    "currency": true
                  },
                  "movementVariance1": {
                    "type": "string",
                    "title": "1st Instalment",
                    "readonly": true,
                    "hidden": true,
                    "currency": true
                  },
                  "movementVariance2": {
                    "type": "string",
                    "title": "2nd Instalment",
                    "readonly": true,
                    "hidden": true,
                    "currency": true
                  },
                  "movementVariance3": {
                    "type": "string",
                    "title": "3rd Instalment",
                    "readonly": true,
                    "hidden": true,
                    "currency": true
                  },
                  "movementVariance4": {
                    "type": "string",
                    "title": "4th Instalment",
                    "readonly": true,
                    "hidden": true,
                    "currency": true
                  }
                }
              }
            },
            "cashflowConfirmation": {
              "title": "Please confirm you are content with the submitted project cashflows",
              "description": "It is a contractual condition that there is an agreed cashflow for the project",
              "type": "string",
              "s151WriteOnly": true,
              "enumCheckbox": true,
              "pattern": "Yes",
              "enum": [
                "Yes",
                "No"
              ]
            }
          },
          "dependencies": {
            "changesToRequest": {
              "oneOf": [
                {
                  "properties": {
                    "changesToRequest": {
                      "enum": [
                        "Confirmed"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "changesToRequest": {
                      "enum": [
                        "Changes Required"
                      ]
                    },
                    "reasonForRequest": {
                      "type": "string",
                      "s151WriteOnly": true,
                      "title": "Reason for Request"
                    },
                    "requestedAmount": {
                      "type": "string",
                      "s151WriteOnly": true,
                      "title": "Requested amount",
                      "currency": true
                    },
                    "varianceFromBaseline": {
                      "type": "string",
                      "title": "Variance from Baseline",
                      "readonly": true,
                      "hidden": true,
                      "currency": true
                    },
                    "varianceFromBaselinePercent": {
                      "type": "string",
                      "title": "Variance from Baseline",
                      "percentage": true,
                      "readonly": true,
                      "hidden": true
                    },
                    "mitigationInPlace": {
                      "type": "string",
                      "title": "Mitigation in place to reduce further slippage",
                      "s151WriteOnly": true
                    },
                    "amendmentConfirmation": {
                      "title": "An amendment has been made to the forecast profile in this MR - please confirm you are content with this amendment",
                      "type": "string",
                      "s151WriteOnly": true,
                      "radio": true,
                      "enum": [
                        "Yes",
                        "No"
                      ]
                    }
                  }
                }
              ]
            }
          }
        },
        "submission": {
          "type": "object",
          "title": "Submission",
          "calculation": "set(formData['changesToEndDate'], 'varianceFromEndDateBaseline', weeksPassed(get(formData, 'hifFundingEndDate'), get(formData, 'changesToEndDate', 'requestedChangedEndDate'))); set(formData['changesToLongstopDate'], 'varianceFromLongStopBaseline', weeksPassed(get(formData, 'projectLongstopDate'), get(formData, 'changesToLongstopDate', 'requestedLongstopEndDate')));",
          "required": [
            "signoff"
          ],
          "properties": {
            "changeToMilestones": {
              "title": "",
              "type": "object",
              "required": [
                "changeToMilestonesConfirmation"
              ],
              "properties": {
                "changeToMilestonesConfirmation": {
                  "type": "string",
                  "title": "Please confirm that no changes are required to contractual milestones",
                  "description": "Any change to contractual milestones will need to be agreed by Homes England",
                  "radio": true,
                  "s151WriteOnly": true,
                  "enum": [
                    "Confirmed",
                    "Changes Required"
                  ]
                }
              },
              "dependencies": {
                "changeToMilestonesConfirmation": {
                  "oneOf": [
                    {
                      "properties": {
                        "changeToMilestonesConfirmation": {
                          "enum": [
                            "Confirmed"
                          ]
                        }
                      }
                    },
                    {
                      "required": [
                        "reasonForRequestOfMilestoneChange",
                        "requestedAmendments",
                        "mitigationInPlaceMilestone"
                      ],
                      "properties": {
                        "changeToMilestonesConfirmation": {
                          "enum": [
                            "Changes Required"
                          ]
                        },
                        "reasonForRequestOfMilestoneChange": {
                          "type": "string",
                          "s151WriteOnly": true,
                          "title": "Reason for Request"
                        },
                        "requestedAmendments": {
                          "type": "string",
                          "s151WriteOnly": true,
                          "title": "Requested amendments to milestones"
                        },
                        "mitigationInPlaceMilestone": {
                          "type": "string",
                          "s151WriteOnly": true,
                          "title": "Mitigation in place to reduce further amendments"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "hifFundingEndDate": {
              "type": "string",
              "title": "HIF Funding End Date",
              "readonly": true,
              "sourceKey": [
                "baseline_data",
                "s151",
                "s151FundingEndDate"
              ]
            },
            "changesToEndDate": {
              "title": "",
              "type": "object",
              "required": ["changesToEndDateConfirmation"],
              "properties": {
                "changesToEndDateConfirmation": {
                  "type": "string",
                  "title": "Please confirm that no changes are required to Funding End Date",
                  "description": "Any change to funding end date will need to be agreed by Homes England",
                  "radio": true,
                  "s151WriteOnly": true,
                  "enum": [
                    "Confirmed",
                    "Changes Required"
                  ]
                }
              },
              "dependencies": {
                "changesToEndDateConfirmation": {
                  "oneOf": [
                    {
                      "properties": {
                        "changesToEndDateConfirmation": {
                          "enum": [
                            "Confirmed"
                          ]
                        }
                      }
                    },
                    {
                      "required": [
                        "reasonForRequestOfDateChange",
                        "requestedChangedEndDate",
                        "mitigationInPlaceEndDate",
                        "evidenceUpload"
                      ],
                      "properties": {
                        "changesToEndDateConfirmation": {
                          "enum": [
                            "Changes Required"
                          ]
                        },
                        "reasonForRequestOfDateChange": {
                          "type": "string",
                          "title": "Reason for Request",
                          "s151WriteOnly": true
                        },
                        "requestedChangedEndDate": {
                          "type": "string",
                          "title": "Requested new end date",
                          "format": "date",
                          "s151WriteOnly": true
                        },
                        "varianceFromEndDateBaseline": {
                          "type": "string",
                          "title": "Variance from Baseline (Weeks)",
                          "readonly": true
                        },
                        "mitigationInPlaceEndDate": {
                          "type": "string",
                          "s151WriteOnly": true,
                          "title": "Mitigation in place to reduce further slippage"
                        },
                        "evidenceUpload": {
                          "title": "Evidence of Change to End Date",
                          "description": "Evidence can include invoices/ contracts/ accounting system print off. Please attach here.",
                          "uploadFile": "multiple",
                          "type": "array",
                          "minItems": 1,
                          "s151WriteOnly": true,
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            },
            "projectLongstopDate": {
              "type": "string",
              "title": "Project Longstop Date",
              "readonly": true,
              "sourceKey": [
                "baseline_data",
                "s151",
                "s151ProjectLongstopDate"
              ]
            },
            "changesToLongstopDate": {
              "title": "",
              "type": "object",
              "required": ["changesToLongstopDateConfirmation"],
              "properties": {
                "changesToLongstopDateConfirmation": {
                  "type": "string",
                  "title": "Please confirm that no changes are required to project completion date",
                  "description": "Any change to longstop date will need to be agreed at an MHCLG/Homes England board and cannot be guaranteed",
                  "radio": true,
                  "s151WriteOnly": true,
                  "enum": [
                    "Confirmed",
                    "Changes Required"
                  ]
                }
              },
              "dependencies": {
                "changesToLongstopDateConfirmation": {
                  "oneOf": [
                    {
                      "properties": {
                        "changesToLongstopDateConfirmation": {
                          "enum": [
                            "Confirmed"
                          ]
                        }
                      }
                    },
                    {
                      "required": [
                        "reasonForRequestOfLongstopChange",
                        "requestedLongstopEndDate",
                        "mitigationInPlaceLongstopDate",
                        "evidenceUploadLongstopDate"
                      ],
                      "properties": {
                        "changesToLongstopDateConfirmation": {
                          "enum": [
                            "Changes Required"
                          ]
                        },
                        "reasonForRequestOfLongstopChange": {
                          "type": "string",
                          "s151WriteOnly": true,
                          "title": "Reason for Request"
                        },
                        "requestedLongstopEndDate": {
                          "type": "string",
                          "s151WriteOnly": true,
                          "format": "date",
                          "title": "Requested new end date"
                        },
                        "varianceFromLongStopBaseline": {
                          "type": "string",
                          "title": "Variance from Baseline",
                          "readonly": true
                        },
                        "mitigationInPlaceLongstopDate": {
                          "type": "string",
                          "s151WriteOnly": true,
                          "title": "Mitigation in place to reduce further slippage"
                        },
                        "evidenceUploadLongstopDate": {
                          "title": "Evidence of Change to Project Longstop Date",
                          "description": "Evidence can include invoices/ contracts/ accounting system print off. Please attach here.",
                          "uploadFile": "multiple",
                          "type": "array",
                          "minItems": 1,
                          "s151WriteOnly": true,
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            },
            "recoverFunding": {
              "title": "",
              "type": "object",
              "required": ["recoverFundingConfirmation"],
              "properties": {
                "recoverFundingConfirmation": {
                  "type": "string",
                  "title": "Has any funding been recovered since last return?",
                  "s151WriteOnly": true,
                  "radio": true,
                  "enum": [
                    "Yes",
                    "No"
                  ]
                }
              },
              "dependencies": {
                "recoverFundingConfirmation": {
                  "oneOf": [
                    {
                      "required": ["usedOnFutureHosuing"],
                      "properties": {
                        "recoverFundingConfirmation": {
                          "enum": [
                            "Yes"
                          ]
                        },
                        "usedOnFutureHosuing": {
                          "type": "string",
                          "title": "Please confirm that this has (or will) been used on future housing",
                          "description": "It is a contractual condition that any recovery of funding is used on future housing",
                          "s151WriteOnly": true,
                          "enumCheckbox": true,
                          "pattern": "Yes",
                          "enum": [
                            "Yes",
                            "No"
                          ]
                        }
                      }
                    },
                    {
                      "properties": {
                        "recoverFundingConfirmation": {
                          "enum": [
                            "No"
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            },
            "formDownload": {
              "title": "Submission sign-off",
              "type": "boolean",
              "description": "Please download and sign this attachment, then scan and upload below",
              "label": "Section 151 Officer MR Approval",
              "downloadURI": "/S151_MR_Approval_template.docx"
            },
            "signoff": {
              "title": "Signoff",
              "description": "Attach your sign-off here",
              "type": "array",
              "uploadFile": "single",
              "items": {
                "type": "string"
              }
            }
          }
        }
      }
    },
    "outputsForecast": {
      "title": "Outputs - Forecast",
      "type": "object",
      "properties": {
        "summary": {
          "type": "object",
          "title": "Summary",
          "properties": {
            "totalUnits": {
              "type": "string",
              "title": "Total Units",
              "readonly": true,
              "sourceKey": [
                "baseline_data",
                "outputsForecast",
                "totalUnits"
              ]
            },
            "disposalStrategy": {
              "type": "string",
              "title": "Disposal Strategy/Critical Path",
              "extendedText": true,
              "readonly": true,
              "sourceKey": [
                "baseline_data",
                "outputsForecast",
                "disposalStrategy"
              ]
            }
          }
        },
        "housingStarts": {
          "type": "object",
          "title": "Housing Starts",
          "required": ["anyChanges"],
          "properties": {
            "baselineAmounts": {
              "title": "Baseline Amounts",
              "type": "array",
              "periods": true,
              "items": {
                "type": "object",
                "properties": {
                  "period": {
                    "type": "string",
                    "title": "Period",
                    "readonly": true,
                    "sourceKey": [
                      "baseline_data",
                      "outputsForecast",
                      "housingForecast",
                      "period"
                    ]
                  },
                  "baselineAmounts": {
                    "type": "string",
                    "title": "Baseline Amounts",
                    "readonly": true,
                    "sourceKey": [
                      "baseline_data",
                      "outputsForecast",
                      "housingForecast",
                      "target"
                    ]
                  }
                }
              }
            },
            "anyChanges": {
              "title": "Any changes to baseline amounts?",
              "type": "string",
              "radio": true,
              "enum": [
                "Yes",
                "No"
              ]
            }
          },
          "dependencies": {
            "anyChanges": {
              "oneOf": [
                {
                  "properties": {
                    "anyChanges": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "currentReturnAmounts": {
                      "type": "array",
                      "periods": true,
                      "title": "Current Return Amounts",
                      "items": {
                        "title": "",
                        "type": "object",
                        "required": ["currentReturnForecast"],
                        "properties": {
                          "period": {
                            "type": "string",
                            "title": "Period",
                            "readonly": true,
                            "sourceKey": [
                              "baseline_data",
                              "outputsForecast",
                              "housingForecast",
                              "period"
                            ]
                          },
                          "currentReturnForecast": {
                            "type": "string",
                            "title": "Current Return Forecast"
                          }
                        }
                      }
                    }
                  }
                },
                {
                  "properties": {
                    "anyChanges": {
                      "enum": [
                        "No"
                      ]
                    }
                  }
                }
              ]
            }
          }
        },
        "inYearHousingStarts": {
          "type": "object",
          "title": "",
          "calculation": "setInPreviousQuarter(formData, formContext, 'actualAmounts', accumulateMoney(get(formData, 'actualAmounts', 'liveStarts'), 'startsPerSite', 0));(get(formData, 'actualAmounts') && get(formData, 'baselineAmounts')) ? set(formData, 'progress', calculateVariance(sum(get(formData,'actualAmounts'), 'quarter1','quarter2','quarter3','quarter4'), sum(get(formData, 'baselineAmounts'), 'quarter1', 'quarter2', 'quarter3', 'quarter4'))): null;(get(formData, 'newYear') && get(formData, 'newYear', 'setNewAmounts') === 'Set this years target.' )? set(formData, 'currentAmounts', get(formData, 'newYear', 'newStarts')) : set(formData, 'currentAmounts', get(formData, 'baselineAmounts')) ;get(formData, 'baselineAmounts') ? set(formData, 'progress', calculateVariance(sum(formData['actualAmounts'], 'quarter1', 'quarter2', 'quarter3', 'quarter4'), sum(formData['baselineAmounts'], 'quarter1', 'quarter2', 'quarter3', 'quarter4'))) : '0'; ",
          "properties": {
            "newYear": {
              "type": "object",
              "title": "In Year Housing Starts",
              "required": ["setNewAmounts"],
              "properties": {
                "setNewAmounts": {
                  "type": "string",
                  "title": " ",
                  "enum": [
                    "Set this years target.",
                    "This years target has already been set."
                  ],
                  "radio": true
                }
              },
              "dependencies": {
                "setNewAmounts": {
                  "oneOf": [
                    {
                      "required": ["newStarts"],
                      "properties": {
                        "setNewAmounts": {
                          "enum": [
                            "Set this years target."
                          ]
                        },
                        "newStarts": {
                          "type": "object",
                          "horizontal": true,
                          "title": "This Years Forecasted Amounts",
                          "required": ["quarter1", "quarter2", "quarter3", "quarter4"],
                          "properties": {
                            "quarter1": {
                              "type": "string",
                              "title": "Q1 Current Year"
                            },
                            "quarter2": {
                              "type": "string",
                              "title": "Q2 Current Year"
                            },
                            "quarter3": {
                              "type": "string",
                              "title": "Q3 Current Year"
                            },
                            "quarter4": {
                              "type": "string",
                              "title": "Q4 Current Year"
                            }
                          }
                        }
                      }
                    },
                    {
                      "properties": {
                        "setNewAmounts": {
                          "enum": [
                            "This years target has already been set."
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            },
            "currentAmounts": {
              "type": "object",
              "title": "",
              "properties": {
                "quarter1": {
                  "type": "string",
                  "hidden": true,
                  "title": "Q1 Current Year"
                },
                "quarter2": {
                  "type": "string",
                  "hidden": true,
                  "title": "Q2 Current Year"
                },
                "quarter3": {
                  "type": "string",
                  "hidden": true,
                  "title": "Q3 Current Year"
                },
                "quarter4": {
                  "type": "string",
                  "hidden": true,
                  "title": "Q4 Current Year"
                }
              }
            },
            "baselineAmounts": {
              "type": "object",
              "horizontal": true,
              "title": "Forecasted Amounts",
              "properties": {
                "quarter1": {
                  "type": "string",
                  "readonly": true,
                  "title": "Q1 Current Year"
                },
                "quarter2": {
                  "type": "string",
                  "readonly": true,
                  "title": "Q2 Current Year"
                },
                "quarter3": {
                  "type": "string",
                  "readonly": true,
                  "title": "Q3 Current Year"
                },
                "quarter4": {
                  "type": "string",
                  "readonly": true,
                  "title": "Q4 Current Year"
                }
              }
            },
            "actualAmounts": {
              "type": "object",
              "horizontal": true,
              "title": "Actual Amounts",
              "properties": {
                "liveStarts": {
                  "type": "array",
                  "hidden": true,
                  "title": "",
                  "items": {
                    "type": "object",
                    "title": "",
                    "hidden": true,
                    "properties": {
                      "startsPerSite": {
                        "type": "string",
                        "hidden": true,
                        "title": ""
                      }
                    }
                  }
                },
                "quarter1": {
                  "type": "string",
                  "readonly": true,
                  "title": "Q1 Current Year"
                },
                "quarter2": {
                  "type": "string",
                  "readonly": true,
                  "title": "Q2 Current Year"
                },
                "quarter3": {
                  "type": "string",
                  "readonly": true,
                  "title": "Q3 Current Year"
                },
                "quarter4": {
                  "type": "string",
                  "readonly": true,
                  "title": "Q4 Current Year"
                }
              }
            },
            "progress": {
              "type": "string",
              "title": "Progress",
              "percentage": true,
              "readonly": true
            }
          }
        },
        "housingCompletions": {
          "type": "object",
          "title": "Housing Completions",
          "properties": {
            "baselineAmounts": {
              "title": "Baseline Amounts",
              "periods": true,
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "period": {
                    "type": "string",
                    "title": "Period",
                    "readonly": true,
                    "sourceKey": [
                      "baseline_data",
                      "outputsForecast",
                      "housingForecast",
                      "period"
                    ]
                  },
                  "baselineAmounts": {
                    "type": "string",
                    "title": "Baseline Amounts",
                    "readonly": true,
                    "sourceKey": [
                      "baseline_data",
                      "outputsForecast",
                      "housingForecast",
                      "housingCompletions"
                    ]
                  }
                }
              }
            },
            "anyChanges": {
              "title": "Any changes to baseline amounts?",
              "type": "string",
              "radio": true,
              "enum": [
                "Yes",
                "No"
              ]
            }
          },
          "dependencies": {
            "anyChanges": {
              "oneOf": [
                {
                  "required": [
                    "currentReturnAmounts"
                  ],
                  "properties": {
                    "anyChanges": {
                      "enum": [
                        "Yes"
                      ]
                    },
                    "currentReturnAmounts": {
                      "type": "array",
                      "periods": true,
                      "title": "Current Return Amounts",
                      "items": {
                        "title": "",
                        "type": "object",
                        "required": ["currentReturnForecast"],
                        "properties": {
                          "period": {
                            "type": "string",
                            "title": "Period",
                            "readonly": true,
                            "sourceKey": [
                              "baseline_data",
                              "outputsForecast",
                              "housingForecast",
                              "period"
                            ]
                          },
                          "currentReturnForecast": {
                            "type": "string",
                            "title": "Current Return Forecast"
                          }
                        }
                      }
                    }
                  }
                },
                {
                  "properties": {
                    "anyChanges": {
                      "enum": [
                        "No"
                      ]
                    }
                  }
                }
              ]
            }
          }
        },
        "inYearHousingCompletions": {
          "type": "object",
          "title": "",
          "calculation": "setInPreviousQuarter(formData, formContext, 'actualAmounts', accumulateMoney(get(formData, 'actualAmounts', 'liveCompletions'), 'completionsPerSite', 0));(get(formData,'actualAmounts') && get(formData, 'baselineAmounts')) ? set(formData, 'progress', calculateVariance(sum(get(formData,'actualAmounts'), 'quarter1','quarter2','quarter3','quarter4'), sum(get(formData, 'baselineAmounts'), 'quarter1', 'quarter2', 'quarter3', 'quarter4'))): null;( get(formData, 'newYear') && get(formData, 'newYear', 'setNewAmounts') === 'Set this years target.' )? set(formData, 'currentAmounts', get(formData, 'newYear', 'newCompletions')) : set(formData, 'currentAmounts', get(formData, 'baselineAmounts')) ;formData['baselineAmounts'] ? set(formData, 'progress', calculateVariance(sum(formData['actualAmounts'], 'quarter1', 'quarter2', 'quarter3', 'quarter4'), sum(formData['baselineAmounts'], 'quarter1', 'quarter2', 'quarter3', 'quarter4'))) : '0'; ",
          "properties": {
            "newYear": {
              "type": "object",
              "title": "In Year Housing Completions",
              "required": ["setNewAmounts"],
              "properties": {
                "setNewAmounts": {
                  "type": "string",
                  "title": " ",
                  "enum": [
                    "Set this years target.",
                    "This years target has already been set."
                  ],
                  "radio": true
                }
              },
              "dependencies": {
                "setNewAmounts": {
                  "oneOf": [
                    {
                      "required": ["newCompletions"],
                      "properties": {
                        "setNewAmounts": {
                          "enum": [
                            "Set this years target."
                          ]
                        },
                        "newCompletions": {
                          "type": "object",
                          "horizontal": true,
                          "title": "This Years Forecasted Amounts",
                          "required": ["quarter1", "quarter2", "quarter3", "quarter4"],
                          "properties": {
                            "quarter1": {
                              "type": "string",
                              "title": "Q1 Current Year"
                            },
                            "quarter2": {
                              "type": "string",
                              "title": "Q2 Current Year"
                            },
                            "quarter3": {
                              "type": "string",
                              "title": "Q3 Current Year"
                            },
                            "quarter4": {
                              "type": "string",
                              "title": "Q4 Current Year"
                            }
                          }
                        }
                      }
                    },
                    {
                      "properties": {
                        "setNewAmounts": {
                          "enum": [
                            "This years target has already been set."
                          ]
                        }
                      }
                    }
                  ]
                }
              }
            },
            "currentAmounts": {
              "type": "object",
              "title": "",
              "properties": {
                "quarter1": {
                  "type": "string",
                  "hidden": true,
                  "title": "Q1 Current Year"
                },
                "quarter2": {
                  "type": "string",
                  "hidden": true,
                  "title": "Q2 Current Year"
                },
                "quarter3": {
                  "type": "string",
                  "hidden": true,
                  "title": "Q3 Current Year"
                },
                "quarter4": {
                  "type": "string",
                  "hidden": true,
                  "title": "Q4 Current Year"
                }
              }
            },
            "baselineAmounts": {
              "type": "object",
              "horizontal": true,
              "title": "Forecasted Amounts",
              "properties": {
                "quarter1": {
                  "type": "string",
                  "readonly": true,
                  "title": "Q1 Current Year"
                },
                "quarter2": {
                  "readonly": true,
                  "type": "string",
                  "title": "Q2 Current Year"
                },
                "quarter3": {
                  "type": "string",
                  "readonly": true,
                  "title": "Q3 Current Year"
                },
                "quarter4": {
                  "type": "string",
                  "readonly": true,
                  "title": "Q4 Current Year"
                }
              }
            },
            "actualAmounts": {
              "type": "object",
              "horizontal": true,
              "title": "Actual Amounts",
              "properties": {
                "liveCompletions": {
                  "type": "array",
                  "hidden": true,
                  "title": "",
                  "items": {
                    "type": "object",
                    "title": "",
                    "hidden": true,
                    "properties": {
                      "completionsPerSite": {
                        "type": "string",
                        "hidden": true,
                        "title": ""
                      }
                    }
                  }
                },
                "quarter1": {
                  "type": "string",
                  "readonly": true,
                  "title": "Q1 Current Year"
                },
                "quarter2": {
                  "type": "string",
                  "readonly": true,
                  "title": "Q2 Current Year"
                },
                "quarter3": {
                  "type": "string",
                  "readonly": true,
                  "title": "Q3 Current Year"
                },
                "quarter4": {
                  "type": "string",
                  "readonly": true,
                  "title": "Q4 Current Year"
                }
              }
            },
            "progress": {
              "type": "string",
              "title": "Progress",
              "percentage": true,
              "readonly": true
            }
          }
        }
      }
    },
    "outputsActuals": {
      "title": "Output - Actuals",
      "type": "array",
      "items": {
        "type": "object",
        "title": "Site",
        "properties": {
          "siteOutputs": {
            "type": "object",
            "title": "Outputs",
            "required": ["details", "ownership", "percentages", "starts"],
            "properties": {
              "details": {
                "title": "",
                "type": "object",
                "required": ["size"],
                "horizontal": true,
                "properties": {
                  "localAuthority": {
                    "type": "string",
                    "title": "Local Authority",
                    "readonly": true,
                    "sourceKey": [
                      "baseline_data",
                      "outputsActuals",
                      "siteOutputs",
                      "siteLocalAuthority"
                    ]
                  },
                  "noOfUnits": {
                    "type": "string",
                    "title": "No. of Units",
                    "readonly": true,
                    "sourceKey": [
                      "baseline_data",
                      "outputsActuals",
                      "siteOutputs",
                      "siteNumberOfUnits"
                    ]
                  },
                  "size": {
                    "type": "string",
                    "title": "Size (hectares)"
                  }
                }
              },
              "starts": {
                "title": "",
                "type": "object",
                "calculation": "set(formData['starts'], 'currentStarts', ''+sum(formData['starts'], 'previousStarts', 'startsSinceLastReturn')); set(formData['starts'], 'currentCompletions', ''+sum(formData['starts'], 'previousCompletions', 'completionsSinceLastReturn'));",
                "properties": {
                  "starts": {
                    "required": ["startsSinceLastReturn", "completionsSinceLastReturn"],
                    "type": "object",
                    "horizontal": true,
                    "title": "",
                    "properties": {
                      "previousStarts": {
                        "type": "string",
                        "title": "Previous Starts",
                        "readonly": true
                      },
                      "currentStarts": {
                        "type": "string",
                        "title": "Current Starts",
                        "hidden": true
                      },
                      "startsSinceLastReturn": {
                        "type": "string",
                        "title": "Starts since last return"
                      },
                      "previousCompletions": {
                        "type": "string",
                        "title": "Previous Completions",
                        "readonly": true
                      },
                      "currentCompletions": {
                        "type": "string",
                        "title": "Current Completions",
                        "hidden": true
                      },
                      "completionsSinceLastReturn": {
                        "type": "string",
                        "title": "Completions since last return"
                      }
                    }
                  }
                }
              },
              "ownership": {
                "type": "object",
                "title": "",
                "horizontal": true,
                "required": ["laOwned", "pslLand"],
                "properties": {
                  "laOwned": {
                    "type": "string",
                    "title": "Local Authority owned land?",
                    "radio": true,
                    "enum": [
                      "Yes",
                      "No"
                    ]
                  },
                  "pslLand": {
                    "type": "string",
                    "radio": true,
                    "title": "Public Sector Land?",
                    "enum": [
                      "Yes",
                      "No"
                    ]
                  }
                }
              },
              "percentages": {
                "type": "object",
                "title": "Percentage of the current years starts and completions that are:",
                "horizontal": true,
                "required": ["brownfieldPercent","leaseholdPercent","mmcPercent","smePercent"],
                "properties": {
                  "brownfieldPercent": {
                    "type": "string",
                    "title": "Brownfield",
                    "percentage": true
                  },
                  "leaseholdPercent": {
                    "type": "string",
                    "title": "Leasehold",
                    "percentage": true
                  },
                  "smePercent": {
                    "type": "string",
                    "title": "SME",
                    "percentage": true
                  },
                  "mmcPercent": {
                    "type": "string",
                    "title": "MMC",
                    "percentage": true
                  }
                }
              }
            }
          }
        }
      }
    },
    "rmMonthlyCatchup": {
      "title": "RM Monthly Catch Up",
      "type": "object",
      "laHidden": true,
      "properties": {
        "catchUp": {
          "type": "array",
          "description": "Click on the plus button to add notes from a new catch up.",
          "title": "",
          "addable": true,
          "items": {
            "title": "Catch Up",
            "type": "object",
            "properties": {
              "dateOfCatchUp": {
                "type": "string",
                "title": "Date of Catch Up",
                "format": "date"
              },
              "overallRatingForScheme": {
                "type": "string",
                "title": "Overall RAG Rating for Scheme",
                "radio": true,
                "enum": [
                  "Red",
                  "Amber",
                  "Green"
                ]
              },
              "redBarriers": {
                "type": "array",
                "addable": true,
                "title": "Barriers- Red Rating",
                "description": "Click on the plus button to add a new red rated barrier.",
                "items": {
                  "type": "object",
                  "properties": {
                    "barrier": {
                      "type": "string",
                      "title": "Barrier",
                      "enum": [
                        "Land acquisition",
                        "Site Access- Road",
                        "Site Access- Railway",
                        "Flood risk",
                        "Funding- sources/ cashflow",
                        "Planning",
                        "Land Remediation",
                        "Utilities Provision",
                        "Procurement",
                        "Other"
                      ]
                    }
                  },
                  "dependencies": {
                    "barrier": {
                      "oneOf": [
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Other"
                              ]
                            },
                            "description": {
                              "type": "string",
                              "title": "Description",
                              "extendedText": true
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        },
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Land acquisition"
                              ]
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        },
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Site Access- Road"
                              ]
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        },
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Site Access- Railway"
                              ]
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        },
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Flood risk"
                              ]
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        },
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Funding- sources/ cashflow"
                              ]
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        },
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Planning"
                              ]
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        },
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Land Remediation"
                              ]
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        },
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Utilities Provision"
                              ]
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        },
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Procurement"
                              ]
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              },
              "amberBarriers": {
                "type": "array",
                "title": "Barriers- Amber Rating",
                "description": "Click on the plus button to add a new amber rated barrier.",
                "addable": true,
                "items": {
                  "type": "object",
                  "properties": {
                    "barrier": {
                      "type": "string",
                      "title": "Barrier",
                      "enum": [
                        "Land acquisition",
                        "Site Access- Road",
                        "Site Access- Railway",
                        "Flood risk",
                        "Funding- sources/ cashflow",
                        "Planning",
                        "Land Remediation",
                        "Utilities Provision",
                        "Procurement",
                        "Other"
                      ]
                    }
                  },
                  "dependencies": {
                    "barrier": {
                      "oneOf": [
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Other"
                              ]
                            },
                            "description": {
                              "type": "string",
                              "title": "Description",
                              "extendedText": true
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        },
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Land acquisition"
                              ]
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        },
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Site Access- Road"
                              ]
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        },
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Site Access- Railway"
                              ]
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        },
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Flood risk"
                              ]
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        },
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Funding- sources/ cashflow"
                              ]
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        },
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Planning"
                              ]
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        },
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Land Remediation"
                              ]
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        },
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Utilities Provision"
                              ]
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        },
                        {
                          "properties": {
                            "barrier": {
                              "enum": [
                                "Procurement"
                              ]
                            },
                            "overview": {
                              "type": "string",
                              "extendedText": true,
                              "title": "Overview of Barrier"
                            }
                          }
                        }
                      ]
                    }
                  }
                }
              },
              "overviewOfEngagement": {
                "type": "string",
                "extendedText": true,
                "title": "Overview of Engagement"
              },
              "commentOnProgress": {
                "type": "string",
                "extendedText": true,
                "title": "Comments on Progress"
              },
              "issuesToRaise": {
                "type": "string",
                "extendedText": true,
                "title": "Issues to Raise"
              }
            }
          }
        }
      }
    },
    "reviewAndAssurance": {
      "type": "object",
      "laHidden": true,
      "title": "AM Review",
      "properties": {
        "meetingDetails": {
          "title": "",
          "type": "object",
          "heAlwaysWritable": true,
          "properties": {
            "meetingHeld": {
              "type": "string",
              "title": "Quarterly meeting held?",
              "enum": [
                "Yes",
                "No"
              ],
              "radio": true,
              "heAlwaysWritable": true
            }
          },
          "dependencies": {
            "meetingHeld": {
              "oneOf": [
                {
                  "properties": {
                    "meetingHeld": {
                      "heAlwaysWritable": true,
                      "enum": [
                        "Yes"
                      ]
                    },
                    "date": {
                      "title": "Date",
                      "type": "string",
                      "heAlwaysWritable": true,
                      "format": "date"
                    }
                  }
                },
                {
                  "properties": {
                    "meetingHeld": {
                      "heAlwaysWritable": true,
                      "enum": [
                        "No"
                      ]
                    }
                  }
                }
              ]
            }
          }
        },
        "attendance": {
          "title": "Who was in attendance?",
          "type": "string",
          "heAlwaysWritable": true
        },
        "summaryOfMeeting": {
          "type": "string",
          "title": "Summary Of Meeting",
          "extendedText": true,
          "heAlwaysWritable": true
        },
        "meetingsAttended": {
          "title": "Boards/Governance meetings attended",
          "type": "string",
          "heAlwaysWritable": true
        },
        "infrastructureDelivery": {
          "type": "array",
          "heAlwaysWritable": true,
          "title": "Summary of Infrastructures",
          "items": {
            "type": "object",
            "title": "",
            "properties": {
              "infrastructureDesc": {
                "type": "string",
                "readonly": true,
                "heAlwaysWritable": true,
                "title": "Infrastructure Description"
              },
              "reviewDetails": {
                "type": "object",
                "horizontal": true,
                "title": "",
                "properties": {
                  "details": {
                    "type": "string",
                    "heAlwaysWritable": true,
                    "title": "Summary of Infrastructure Delivery"
                  },
                  "riskRating": {
                    "type": "string",
                    "heAlwaysWritable": true,
                    "title": "Risk Rating",
                    "enum": [
                      "High",
                      "Medium High",
                      "Medium Low",
                      "Low",
                      "Achieved"
                    ]
                  }
                }
              }
            }
          }
        },
        "hifFundedFinancials": {
          "type": "object",
          "title": "HIF Funded Financials",
          "horizontal": true,
          "properties": {
            "summary": {
              "title": "Summary",
              "heAlwaysWritable": true,
              "type": "string"
            },
            "riskRating": {
              "type": "string",
              "title": "Risk Rating",
              "heAlwaysWritable": true,
              "enum": [
                "High",
                "Medium High",
                "Medium Low",
                "Low",
                "Achieved"
              ]
            }
          }
        },
        "hifWiderScheme": {
          "type": "object",
          "title": "Wider Scheme",
          "horizontal": true,
          "properties": {
            "summary": {
              "title": "Summary",
              "heAlwaysWritable": true,
              "type": "string"
            },
            "riskRating": {
              "type": "string",
              "heAlwaysWritable": true,
              "title": "Risk Rating",
              "enum": [
                "High",
                "Medium High",
                "Medium Low",
                "Low",
                "Achieved"
              ]
            }
          }
        },
        "outputForecast": {
          "type": "object",
          "title": "Output Forecast",
          "horizontal": true,
          "properties": {
            "summary": {
              "title": "Summary",
              "heAlwaysWritable": true,
              "type": "string"
            },
            "riskRating": {
              "type": "string",
              "title": "Risk Rating",
              "heAlwaysWritable": true,
              "enum": [
                "High",
                "Medium High",
                "Medium Low",
                "Low",
                "Achieved"
              ]
            }
          }
        },
        "barriers": {
          "type": "object",
          "title": "Barriers",
          "properties": {
            "significantIssues": {
              "type": "array",
              "title": "Significant Issues",
              "heAlwaysWritable": true,
              "addable": true,
              "items": {
                "type": "object",
                "properties": {
                  "barrierType": {
                    "title": "Type",
                    "heAlwaysWritable": true,
                    "type": "string",
                    "enum": [
                      "Land acquisition",
                      "Site Access - Road",
                      "Site Access - Railway",
                      "Flood risk",
                      "Funding - sources / cashflow",
                      "Planning",
                      "Land Remediation",
                      "Utilities Provision",
                      "Procurement",
                      "Other"
                    ]
                  },
                  "commentary": {
                    "title": "Commentary",
                    "type": "string",
                    "heAlwaysWritable": true,
                    "extendedText": true
                  },
                  "overview": {
                    "title": "Overview",
                    "type": "string",
                    "heAlwaysWritable": true,
                    "extendedText": true
                  }
                },
                "dependencies": {
                  "barrierType": {
                    "oneOf": [
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Land acquisition"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Site Access - Road"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Site Access - Railway"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Flood risk"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Funding - sources / cashflow"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Planning"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Land Remediation"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Utilities Provision"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Procurement"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Other"
                            ]
                          },
                          "details": {
                            "title": "Details",
                            "heAlwaysWritable": true,
                            "type": "string"
                          }
                        }
                      }
                    ]
                  }
                }
              }
            },
            "liveIssues": {
              "type": "array",
              "title": "Live Issues (with mitigation)",
              "heAlwaysWritable": true,
              "addable": true,
              "items": {
                "type": "object",
                "properties": {
                  "barrierType": {
                    "title": "Type",
                    "heAlwaysWritable": true,
                    "type": "string",
                    "enum": [
                      "Land acquisition",
                      "Site Access - Road",
                      "Site Access - Railway",
                      "Flood risk",
                      "Funding - sources / cashflow",
                      "Planning",
                      "Land Remediation",
                      "Utilities Provision",
                      "Procurement",
                      "Other"
                    ]
                  },
                  "commentary": {
                    "title": "Commentary",
                    "type": "string",
                    "heAlwaysWritable": true,
                    "extendedText": true
                  },
                  "overview": {
                    "title": "Overview",
                    "type": "string",
                    "heAlwaysWritable": true,
                    "extendedText": true
                  }
                },
                "dependencies": {
                  "barrierType": {
                    "oneOf": [
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Land acquisition"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Site Access - Road"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Site Access - Railway"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Flood risk"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Funding - sources / cashflow"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Planning"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Land Remediation"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Utilities Provision"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Procurement"
                            ]
                          }
                        }
                      },
                      {
                        "properties": {
                          "barrierType": {
                            "type": "string",
                            "heAlwaysWritable": true,
                            "enum": [
                              "Other"
                            ]
                          },
                          "details": {
                            "title": "Details",
                            "heAlwaysWritable": true,
                            "type": "string"
                          }
                        }
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "overallRAGRating": {
          "type": "object",
          "title": "Overall RAG Rating",
          "horizontal": true,
          "properties": {
            "rating": {
              "type": "string",
              "title": "",
              "heAlwaysWritable": true,
              "radio": true,
              "enum": [
                "Red",
                "Amber",
                "Green"
              ]
            },
            "reason": {
              "type": "string",
              "title": "Reason for Rating",
              "heAlwaysWritable": true,
              "extendedText": true
            }
          }
        },
        "overallCommentary": {
          "type": "string",
          "title": "Overall Commentary on Performance",
          "heAlwaysWritable": true,
          "extendedText": true
        },
        "riskAssessmentSpend": {
          "type": "object",
          "horizontal": true,
          "title": "Risk Assessment - Spend",
          "properties": {
            "currentYear": {
              "type": "string",
              "title": "Current Year",
              "heAlwaysWritable": true,
              "enum": [
                "Low",
                "Medium Low",
                "Medium High",
                "High"
              ]
            },
            "nextYear": {
              "type": "string",
              "title": "Next Year",
              "heAlwaysWritable": true,
              "enum": [
                "Low",
                "Medium Low",
                "Medium High",
                "High"
              ]
            }
          }
        },
        "riskAssessmentOutputs": {
          "type": "object",
          "title": "Risk Assessment - Outputs",
          "horizontal": true,
          "properties": {
            "currentYear": {
              "type": "string",
              "title": "Current Year",
              "heAlwaysWritable": true,
              "enum": [
                "Low",
                "Medium Low",
                "Medium High",
                "High"
              ]
            },
            "nextYear": {
              "type": "string",
              "title": "Next Year",
              "heAlwaysWritable": true,
              "enum": [
                "Low",
                "Medium Low",
                "Medium High",
                "High"
              ]
            }
          }
        },
        "raisedIssues": {
          "type": "object",
          "title": "Issues Raised",
          "properties": {
            "anyIssuesToEscalate": {
              "type": "string",
              "title": "Any issues requiring escalation?",
              "radio": true,
              "heAlwaysWritable": true,
              "enum": [
                "Yes",
                "No"
              ]
            }
          },
          "dependencies": {
            "anyIssuesToEscalate": {
              "oneOf": [
                {
                  "properties": {
                    "anyIssuesToEscalate": {
                      "heAlwaysWritable": true,
                      "enum": [
                        "Yes"
                      ]
                    },
                    "escalationProposals": {
                      "type": "string",
                      "title": "Escalation Proposals",
                      "heAlwaysWritable": true,
                      "extendedText": true
                    }
                  }
                },
                {
                  "properties": {
                    "anyIssuesToEscalate": {
                      "heAlwaysWritable": true,
                      "enum": [
                        "No"
                      ]
                    }
                  }
                }
              ]
            }
          }
        },
        "recommendForRegularMonitoring": {
          "title": "Regular Monitoring",
          "type": "object",
          "properties": {
            "moreMonitoringRequired": {
              "type": "string",
              "title": "More regular monitoring required?",
              "enum": [
                "Yes",
                "No"
              ],
              "heAlwaysWritable": true,
              "radio": true
            }
          },
          "dependencies": {
            "moreMonitoringRequired": {
              "oneOf": [
                {
                  "properties": {
                    "moreMonitoringRequired": {
                      "heAlwaysWritable": true,
                      "enum": [
                        "Yes"
                      ]
                    },
                    "requiredFrequency": {
                      "type": "string",
                      "title": "Required Frequency",
                      "heAlwaysWritable": true,
                      "enum": [
                        "Fortnightly",
                        "Monthly",
                        "Two-Monthly",
                        "Six-Monthly",
                        "Yearly"
                      ]
                    }
                  }
                },
                {
                  "properties": {
                    "moreMonitoringRequired": {
                      "heAlwaysWritable": true,
                      "enum": [
                        "No"
                      ]
                    }
                  }
                }
              ]
            }
          }
        },
        "commentary": {
          "type": "string",
          "title": "Commentary",
          "heAlwaysWritable": true,
          "extendedText": true
        }
      }
    }
  }
}
